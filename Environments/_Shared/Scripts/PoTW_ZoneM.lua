local L0_0, L1_1
L0_0 = "potw_zonem_rails.AI_AnimatronicHook 01"
AI_HOOK = L0_0
L0_0 = ""
AI_CLOTHES = L0_0
L0_0 = ""
AI_SWORD = L0_0
L0_0 = ""
AI_COLLISION = L0_0
L0_0 = "potw_zonem_rails.AnimatronicHook 01"
RAIL_HOOK = L0_0
L0_0 = ""
RAIL_CLOTHES = L0_0
L0_0 = ""
RAIL_CLOTHES_WEAPON = L0_0
L0_0 = "potw_zonem.AnimatronicHookInSails 01"
SAILS_HOOK = L0_0
L0_0 = ""
SAILS_HOOK_CLOTHES = L0_0
L0_0 = ""
IGC_HOOK_CLOTHES = L0_0
L0_0 = "potw_zonem_intro.AnimatronicTicTocCroc 01"
TIC_TOC = L0_0
L0_0 = "potw_zonem_rails.PotW_HookBarrel 01"
NAME_BARREL1 = L0_0
L0_0 = "potw_zonem_rails.PotW_HookBarrel 02"
NAME_BARREL2 = L0_0
L0_0 = "potw_zonem_rails.PotW_HookBarrel 03"
NAME_BARREL3 = L0_0
L0_0 = ""
COLLISION_BARREL1 = L0_0
L0_0 = ""
COLLISION_BARREL2 = L0_0
L0_0 = ""
COLLISION_BARREL3 = L0_0
L0_0 = "potw_zonem_rails.SplineKnot 75"
NAME_WARPKNOT1 = L0_0
L0_0 = "potw_zonem_rails.SplineKnot 01"
NAME_WARPKNOT2 = L0_0
L0_0 = "potw_zonem_rails.SplineKnot 32"
NAME_WARPKNOT3 = L0_0
L0_0 = "Left_Rail_Lights"
PARTICLE_GROUP1 = L0_0
L0_0 = "Left_Rail_Lights_Alt"
PARTICLE_GROUP2 = L0_0
L0_0 = "Mid_Rail_Lights"
PARTICLE_GROUP3 = L0_0
L0_0 = "Mid_Rail_Lights_Alt"
PARTICLE_GROUP4 = L0_0
L0_0 = "Mid_Rail_Lights_Slider"
PARTICLE_GROUP5 = L0_0
L0_0 = "Right_Rail_Lights"
PARTICLE_GROUP6 = L0_0
L0_0 = "Right_Rail_Lights_Alt"
PARTICLE_GROUP7 = L0_0
L0_0 = "Right_Rail_Lights_Alt 2"
PARTICLE_GROUP8 = L0_0
L0_0 = "Left_Barrel_Lights"
PARTICLE_GROUP9 = L0_0
L0_0 = "Mid_Barrel_Lights"
PARTICLE_GROUP10 = L0_0
L0_0 = "Right_Barrel_Lights"
PARTICLE_GROUP11 = L0_0
L0_0 = "Right_Rail_Lights_Main"
PARTICLE_GROUP12 = L0_0
L0_0 = "potw_zonem_rails.ParticleScriptableWithParent 01"
EXPLOSION_BARREL = L0_0
L0_0 = "potw_zonem_rails.Capstan 1"
NAME_GEAR1 = L0_0
L0_0 = "potw_zonem_rails.Capstan 2"
NAME_GEAR2 = L0_0
L0_0 = "potw_zonem_rails.Capstan 3"
NAME_GEAR3 = L0_0
L0_0 = "potw_zonem_rails.Capstan 3a"
NAME_GEAR3a = L0_0
L0_0 = "potw_zonem_intro.Capstan 01"
NAME_GEAR4 = L0_0
L0_0 = "potw_zonem_rails.DynamicParentableRotator 01"
NAME_JUNCTION1 = L0_0
L0_0 = "potw_zonem_rails.DynamicParentableRotator 06"
NAME_JUNCTION2 = L0_0
L0_0 = "potw_zonem_rails.DynamicParentableRotator 17"
NAME_JUNCTION3 = L0_0
L0_0 = "potw_zonem_rails.DynamicParentableRotator 3a"
NAME_JUNCTION3a = L0_0
L0_0 = nil
TV = L0_0
L0_0 = 0
TV_BARREL = L0_0
L0_0 = 0.1
PAINTED_TIMER = L0_0
L0_0 = false
SPLASHING_PAINT = L0_0
L0_0 = false
DRIPPING_PAINT = L0_0
L0_0 = 1
HOOK_START_PHASE = L0_0
L0_0 = true
PHASE1_BARREL1 = L0_0
L0_0 = true
PHASE1_BARREL2 = L0_0
L0_0 = true
PHASE1_BARREL3 = L0_0
L0_0 = true
PHASE2_BARREL1 = L0_0
L0_0 = true
PHASE2_BARREL2 = L0_0
L0_0 = true
PHASE2_BARREL3 = L0_0
L0_0 = true
PHASE3_BARREL1 = L0_0
L0_0 = true
PHASE3_BARREL2 = L0_0
L0_0 = true
PHASE3_BARREL3 = L0_0
L0_0 = true
PHASE4_BARREL1 = L0_0
L0_0 = true
PHASE4_BARREL2 = L0_0
L0_0 = true
PHASE4_BARREL3 = L0_0
L0_0 = 0
HOOK_PHASE = L0_0
L0_0 = 0
BARREL = L0_0
L0_0 = ""
BARREL_NAME = L0_0
L0_0 = ""
BARREL_COLLISION_NAME = L0_0
L0_0 = ""
WARPKNOT_NAME = L0_0
L0_0 = ""
PARTICLE_GROUP_NAME = L0_0
L0_0 = false
IS_IN_PLAY_BARREL1 = L0_0
L0_0 = false
IS_IN_PLAY_BARREL2 = L0_0
L0_0 = false
IS_IN_PLAY_BARREL3 = L0_0
L0_0 = false
IS_ALIVE_BARREL1 = L0_0
L0_0 = false
IS_ALIVE_BARREL2 = L0_0
L0_0 = false
IS_ALIVE_BARREL3 = L0_0
L0_0 = false
COMMITTED_TO_POPDOWN = L0_0
L0_0 = false
READY_FOR_PHASE_CHANGE = L0_0
L0_0 = true
MICKEY_CAN_BREAK_BARREL = L0_0
L0_0 = false
IS_PLANK_EXTENDED = L0_0
L0_0 = false
IS_SLIDER_EXTENDED = L0_0
L0_0 = false
IS_WALL_BLOWN = L0_0
L0_0 = false
IS_TREASURE_OPENED = L0_0
L0_0 = false
GEAR1_CRANKED = L0_0
L0_0 = false
GEAR2_CRANKED = L0_0
L0_0 = false
GEAR3_CRANKED = L0_0
L0_0 = false
GEAR3a_CRANKED = L0_0
L0_0 = false
GEAR4_CRANKED = L0_0
L0_0 = false
AIHOOKENABLED = L0_0
L0_0 = false
AIHOOKFORCE_DISABLED = L0_0
L0_0 = false
SAIL1_INITIALPAINTED = L0_0
L0_0 = false
IS_PIN_COLLECTED = L0_0
L0_0 = false
IS_SCREEN_INTROED = L0_0
L0_0 = false
IS_BALLAST_LOWERED = L0_0
L0_0 = false
IS_SAIL9_CAMERA_CHANGED = L0_0
L0_0 = false
GEARMACHINE_ACTIVE = L0_0
L0_0 = false
GEARMACHINE_UP = L0_0
L0_0 = false
GEARMACHINE_MOVING = L0_0
L0_0 = false
GEAR_RESTED = L0_0
L0_0 = false
GEARMACHINE2_ACTIVE = L0_0
L0_0 = false
COG_1_BROKEN = L0_0
L0_0 = false
COG_2_BROKEN = L0_0
L0_0 = 0
OnPlank = L0_0
L0_0 = 2
WeightOnPlatform = L0_0
L0_0 = false
WeightOnPlatformActivated = L0_0
L0_0 = 2
BarrelState = L0_0
L0_0 = false
BarrelStateActivated = L0_0
L0_0 = false
LowerGearInitiallyPainted = L0_0
L0_0 = false
LowerGearPainted = L0_0
L0_0 = false
GearsShaking = L0_0
L0_0 = false
GearsMoving = L0_0
L0_0 = {}
L0_0["potw_zonem.PotW_HookSail 02"] = false
L0_0["potw_zonem.PotW_HookSail 03"] = false
L0_0["potw_zonem.PotW_HookSail 04"] = false
L0_0["potw_zonem.PotW_HookSail 09"] = false
SailPainted = L0_0
L0_0 = false
OnSailTwo = L0_0
L0_0 = false
OnSailThree = L0_0
L0_0 = false
OnSailFour = L0_0
L0_0 = false
OnSailNine = L0_0
L0_0 = false
CLOSECAMERA = L0_0
L0_0 = false
CAMERAFAR = L0_0
L0_0 = false
LEFTCAMERA = L0_0
L0_0 = false
LEFTCAMERAFAR = L0_0
L0_0 = false
RIGHTCAMERAFAR = L0_0
L0_0 = false
RIGHTCAMERA = L0_0
L0_0 = false
RIGHTCAMERABACKFAR = L0_0
L0_0 = false
SECRETROOMCAMERA = L0_0
L0_0 = false
CAMERANORMAL = L0_0
L0_0 = false
CAMERAMID = L0_0
L0_0 = false
STAIRCAMERA = L0_0
L0_0 = false
SSCutSceneCam = L0_0
L0_0 = false
UNDERSTAIRS_CAMERA = L0_0
L0_0 = false
CAMERARIGHTWALL = L0_0
L0_0 = false
LEFTCAMERABACK = L0_0
L0_0 = {}
L0_0["potw_zonem.DynamicSplineFollower 07"] = true
L0_0["potw_zonem.DynamicSplineFollower 08"] = true
BarrelPainted = L0_0
L0_0 = false
CameraBoat = L0_0
L0_0 = true
AnchorRotated = L0_0
L0_0 = false
SAIL10_PAINTED = L0_0
L0_0 = false
GATE_OPEN = L0_0
L0_0 = 0
ConceptArtSave = L0_0
function L0_0(A0_2)
  AI_CLOTHES = GetChildEntityByName(AI_HOOK, "AI_AnimatronicHook_Clothes")
  AI_SWORD = GetChildEntityByName(AI_HOOK, "AnimatronicHook_Sword")
  AI_COLLISION = GetChildEntityByName(AI_HOOK, "AI_AnimatronicHook_CollisionMesh")
  RAIL_CLOTHES = GetChildEntityByName(RAIL_HOOK, "AnimatronicHook_Clothes")
  RAIL_CLOTHES_WEAPON = GetChildEntityByName(RAIL_HOOK, "AnimatronicHook_ClothesWeapon")
  SAILS_HOOK_CLOTHES = GetChildEntityByName(SAILS_HOOK, "AnimatronicHookInSails_Clothes")
  IGC_HOOK_CLOTHES = GetChildEntityByName(SAILS_HOOK, "AnimatronicHookInSails_Clothes_IGC")
  COLLISION_BARREL1 = GetChildEntityByName(NAME_BARREL1, "PotW_HookBarrel_CollisionToon")
  COLLISION_BARREL2 = GetChildEntityByName(NAME_BARREL2, "PotW_HookBarrel_CollisionToon")
  COLLISION_BARREL3 = GetChildEntityByName(NAME_BARREL3, "PotW_HookBarrel_CollisionToon")
  AnimVarFloat(AI_HOOK, VAR_Playback_Speed, 1)
  AnimVarFloat(RAIL_HOOK, VAR_Playback_Speed, 1)
  AnimVarFloat(SAILS_HOOK, VAR_Playback_Speed, 1)
  Hide(IGC_HOOK_CLOTHES)
end
PotW_ZoneMInitialSetup = L0_0
function L0_0()
  SaveCheckpoint(GetPlayer(), "PoTW_ZoneM_CheckpointLoadAtFlyBy", "potw_zonem_intro.PositionMarker 01 CheckpointLoad After Flyby")
end
PoTW_ZoneM_SaveCheckpointInFlyBy = L0_0
function L0_0()
  SetHealth(GetPlayer(), 5)
end
PoTW_ZoneM_CheckpointLoadAtFlyBy = L0_0
function L0_0()
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterFlyBy", "potw_zonem_intro.PositionMarker 01 CheckpointLoad After Flyby")
end
PoTW_ZoneM_SaveCheckpointAfterFlyBy = L0_0
function L0_0()
  if GetGlobal("PoTW_ZM_Start_Played") == 1 then
    ClearCutSceneStack()
    RestrictCutSceneInput()
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    SetHealth(GetPlayer(), 5)
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    SetCameraAttributes("potw_zonem_intro.Marker(CameraOverride) 01")
    UnrestrictCutSceneInput()
  end
end
PotW_ZoneM_CheckpointLoadAfterFlyBy = L0_0
function L0_0()
  ConceptArtSave = 1
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoad", "potw_zonem_rails.PositionMarker 04")
end
PotW_ZoneM_SaveCheckpoint = L0_0
function L0_0()
  RestrictCutSceneInput()
  SetGlobal("PoTW_ZoneM_StickShiftCollected", 1)
  wait(0.1)
  FireSequence("potw_zonem_rails.Marker(Conversation) 01", "PotW_ZM_RocketPartQuest")
  wait(0.1)
  ConceptArtSave = 2
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterStickshiftCollected", "potw_zonem_rails.PositionMarker 04")
  Wait(4)
  UnrestrictCutSceneInput()
  Wait(0.1)
  PotW_RevealScreen()
end
PotW_ZoneM_SaveCheckpointAfterStickshiftCollected = L0_0
function L0_0()
  PotW_ZoneMInitialSetup(nil)
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Disable("potw_zonem.TriggerDamageVolume PushOut 01")
  Disable("potw_zonem.TriggerDamageVolume PushOut 02")
  Disable("potw_zonem.TriggerDamageVolume PushOut 03")
  Enable("potw_zonem_rails.Door_Aft")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
  ConceptArtSave = 2
  if GetGlobal("PoTW_ZoneM_HookOffPlank") == 1 then
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    ClearCutSceneStack()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Enable("potw_zonem_rails.TempPlatA1 12")
    SetReversed("potw_zonem_rails.TempPlatA1 12", 0)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 12)
    FireThread(PoTW_OpenGate, nil, "potw_zonem_rails.DynamicRotatorSplineFollower 01")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
    if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
      Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
    end
    IS_PLANK_EXTENDED = true
    SetPropertyBool("potw_zonem_rails.TempPlatA1 12", "Is Real", true)
    FireThread(PotW_ExtendSlider, "potw_zonem_rails.TempPlatA1 01", 1.7)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    Unhide("potw_zonem_rails.Static_PlankWalls")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    FireThread(PotW_RevealScreen, nil)
  else
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ClearCutSceneStack()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
      Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    FireThread(PotW_RevealScreen, nil)
  end
end
PotW_ZoneM_CheckpointLoadAfterStickshiftCollected = L0_0
function L0_0()
  ConceptArtSave = 3
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterRedChest", "potw_zonem_rails.PositionMarker 04")
end
PotW_ZoneM_SaveCheckpointAfterRedChest = L0_0
function L0_0()
  PotW_ZoneMInitialSetup(nil)
  SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
  ConceptArtSave = 3
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    if GetGlobal("PoTW_ZM_Hook7_Played") == 1 then
      if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
        StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
        Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
        Hide(NAME_BARREL1)
        Hide(NAME_BARREL2)
        Hide(NAME_BARREL3)
        Hide(COLLISION_BARREL1)
        Hide(COLLISION_BARREL2)
        Hide(COLLISION_BARREL3)
        AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
        AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
        AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
        if GetGlobal("PoTW_ZoneM_StickShiftCollected") == 1 then
          Disable("potw_zonem.TriggerDamageVolume PushOut 01")
          Disable("potw_zonem.TriggerDamageVolume PushOut 02")
          Disable("potw_zonem.TriggerDamageVolume PushOut 03")
          ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
          Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
          ClearCutSceneStack()
          SetHealth(GetPlayer(), 5)
          Disable("potw_zonem_rails.PlaneTrigger Intro Start")
          ForceSketched("potw_zonem.StaticProp 13")
          if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
            StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
          end
          Hide(SAILS_HOOK)
          Disable(SAILS_HOOK)
          Hide(RAIL_HOOK)
          Hide(RAIL_CLOTHES)
          Hide(AI_CLOTHES)
          Disable("potw_zonem.Marker(SplineFollower) 04")
          Hide("potw_zonem.TempPlatA1 01")
          Hide("potw_zonem.DynamicSplineFollower 06")
          Disable(AI_HOOK)
          Disable(RAIL_HOOK)
          Unhide("potw_zonem_rails.Static_PlankCollision")
          FireThread(PoTW_BallastDroponHookDeath)
          FireThread(PoTW_HideRailParticles)
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
          Disable("potw_zonem_rails.Trigger Close Camera")
          Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
          Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
          Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
          EnableGuardianSystem()
          StartTrackingCurrentLevelForScoring("Hook_Fight")
          Hide("potw_zonem.DynamicParentableProp 02")
          Hide("potw_zonem.DynamicParentableProp 01")
          Hide("potw_zonem.DynamicParentableRotator 14")
          Disable("potw_zonem.DynamicParentableRotator 14")
          Enable("potw_zonem_rails.Door_Aft")
          SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
          FireThread(PotW_RevealScreen, nil)
        else
          Disable("potw_zonem.TriggerDamageVolume PushOut 01")
          Disable("potw_zonem.TriggerDamageVolume PushOut 02")
          Disable("potw_zonem.TriggerDamageVolume PushOut 03")
          ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
          Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
          ClearCutSceneStack()
          SetHealth(GetPlayer(), 5)
          Disable("potw_zonem_rails.PlaneTrigger Intro Start")
          ForceSketched("potw_zonem.StaticProp 13")
          if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
            StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
          end
          Hide(SAILS_HOOK)
          Disable(SAILS_HOOK)
          Hide(RAIL_HOOK)
          ForceSketched(RAIL_CLOTHES)
          Hide(RAIL_CLOTHES)
          Hide(AI_CLOTHES)
          Disable("potw_zonem.Marker(SplineFollower) 04")
          Hide("potw_zonem.TempPlatA1 01")
          Hide("potw_zonem.DynamicSplineFollower 06")
          Disable(AI_HOOK)
          Disable(RAIL_HOOK)
          Unhide("potw_zonem_rails.Static_PlankCollision")
          FireThread(PoTW_BallastDroponHookDeath)
          FireThread(PoTW_HideRailParticles)
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
          Disable("potw_zonem_rails.Trigger Close Camera")
          Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
          Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
          Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
          Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
          Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
          EnableGuardianSystem()
          StartTrackingCurrentLevelForScoring("Hook_Fight")
          Hide("potw_zonem.DynamicParentableProp 02")
          Hide("potw_zonem.DynamicParentableProp 01")
          Hide("potw_zonem.DynamicParentableRotator 14")
          Disable("potw_zonem.DynamicParentableRotator 14")
          TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
          RestrictCutSceneInput()
          FireThread(PotW_LevelEndSequence)
        end
      else
        Disable("potw_zonem_intro.PlaneTrigger PlankCollision")
        AudioPostEventOn(GetPlayer(), "Play_music_piratesofthewasteland_boss")
        AudioSetState(GetPlayer(), "Music_State", "Boss")
        ClearCutSceneStack()
        RestrictCutSceneInput()
        SetHealth(GetPlayer(), 5)
        SetPropertyInt(RAIL_CLOTHES, "Collision Layer", 13)
        SetPropertyInt(RAIL_CLOTHES, "Collision Layer", 5)
        ForceSketched(RAIL_CLOTHES)
        ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
        Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
        Disable("potw_zonem_rails.PlaneTrigger Intro Start")
        ForceSketched("potw_zonem.StaticProp 13")
        Enable("potw_zonem_rails.Trigger Gameplay Camera Normal")
        Enable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
        FireThread(PotW_ZoneMLoad)
        Unhide("potw_zonem_rails.Static_PlankCollision")
        UnrestrictCutSceneInput()
        EnableGuardianSystem()
        StartTrackingCurrentLevelForScoring("Hook_Fight")
        FireThread(PotW_GoToHookPhase, nil, 0)
      end
    end
  elseif GetGlobal("PoTW_ZoneM_HookOffPlank") == 1 then
    Hide(NAME_BARREL1)
    Hide(NAME_BARREL2)
    Hide(NAME_BARREL3)
    Hide(COLLISION_BARREL1)
    Hide(COLLISION_BARREL2)
    Hide(COLLISION_BARREL3)
    AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
    Disable("potw_zonem.TriggerDamageVolume PushOut 01")
    Disable("potw_zonem.TriggerDamageVolume PushOut 02")
    Disable("potw_zonem.TriggerDamageVolume PushOut 03")
    ClearCutSceneStack()
    RestrictCutSceneInput()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    Disable("potw_zonem_intro.PlaneTrigger PlankCollision")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Enable("potw_zonem_rails.TempPlatA1 12")
    SetReversed("potw_zonem_rails.TempPlatA1 12", 0)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 12)
    FireThread(PoTW_OpenGate, nil, "potw_zonem_rails.DynamicRotatorSplineFollower 01")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
    IS_PLANK_EXTENDED = true
    SetPropertyBool("potw_zonem_rails.TempPlatA1 12", "Is Real", true)
    FireThread(PotW_ExtendSlider, "potw_zonem_rails.TempPlatA1 01", 1.7)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    Unhide("potw_zonem_rails.Static_PlankWalls")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
      Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
    end
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    wait(1)
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    if GetGlobal("PoTW_ZoneM_StickShiftCollected") == 0 then
      FireThread(PotW_LevelEndSequence)
    else
      Enable("potw_zonem_rails.Door_Aft")
      SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
      UnrestrictCutSceneInput()
      FireThread(PotW_RevealScreen, nil)
    end
  else
    Hide(NAME_BARREL1)
    Hide(NAME_BARREL2)
    Hide(NAME_BARREL3)
    Hide(COLLISION_BARREL1)
    Hide(COLLISION_BARREL2)
    Hide(COLLISION_BARREL3)
    AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
    Disable("potw_zonem.TriggerDamageVolume PushOut 01")
    Disable("potw_zonem.TriggerDamageVolume PushOut 02")
    Disable("potw_zonem.TriggerDamageVolume PushOut 03")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Disable("potw_zonem_intro.PlaneTrigger PlankCollision")
    ClearCutSceneStack()
    RestrictCutSceneInput()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
      Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    wait(1)
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    if GetGlobal("PoTW_ZoneM_StickShiftCollected") == 0 then
      FireThread(PotW_LevelEndSequence)
    else
      Enable("potw_zonem_rails.Door_Aft")
      SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
      UnrestrictCutSceneInput()
      FireThread(PotW_RevealScreen, nil)
    end
  end
end
PotW_ZoneM_CheckpointLoadAfterRedChest = L0_0
function L0_0()
  PotW_ZoneMInitialSetup(nil)
  ConceptArtSave = 1
  if GetGlobal("PoTW_ZM_Hook7_Played") == 1 then
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    AudioPostEventOn(GetPlayer(), "Play_music_piratesofthewasteland_boss")
    Disable("potw_zonem_intro.PlaneTrigger PlankCollision")
    AudioSetState(GetPlayer(), "Music_State", "Boss")
    ClearCutSceneStack()
    RestrictCutSceneInput()
    SetHealth(GetPlayer(), 5)
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem.StaticProp 13")
    SetPropertyInt(RAIL_CLOTHES, "Collision Layer", 13)
    SetPropertyInt(RAIL_CLOTHES, "Collision Layer", 5)
    ForceSketched(RAIL_CLOTHES)
    Enable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Enable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    FireThread(PotW_ZoneMLoad)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    UnrestrictCutSceneInput()
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    FireThread(PotW_GoToHookPhase, nil, 0)
  end
end
PotW_ZoneM_CheckpointLoad = L0_0
function L0_0(A0_3)
  wait(0.1)
  PoTW_DeckGameplayCameraNormal(nil)
  wait(0.2)
  ToggleCameraOcclusion(GetPlayer(), false)
end
PotW_ZoneMLoad = L0_0
function L0_0()
  ConceptArtSave = 4
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterSpriteRescued", "potw_zonem_rails.PositionMarker 04")
end
PotW_ZoneM_SaveCheckpointAfterSpriteRescued = L0_0
function L0_0()
  PotW_ZoneMInitialSetup(nil)
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Disable("potw_zonem.TriggerDamageVolume PushOut 01")
  Disable("potw_zonem.TriggerDamageVolume PushOut 02")
  Disable("potw_zonem.TriggerDamageVolume PushOut 03")
  Hide("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
  Disable("potw_zonem.Demo_GV_GremlinCageBreakableC2_Inert 01")
  StopEmitters("potw_zonem.ParticleScriptableWithParent 08")
  ConceptArtSave = 4
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 1 then
    if GetGlobal("PoTW_ZoneM_HookOffPlank") == 1 then
      SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
      ClearCutSceneStack()
      SetHealth(GetPlayer(), 5)
      Disable("potw_zonem_rails.PlaneTrigger Intro Start")
      ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
      Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
      ForceSketched("potw_zonem.StaticProp 13")
      if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
        StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
      end
      Hide(SAILS_HOOK)
      Disable(SAILS_HOOK)
      Hide(RAIL_HOOK)
      Hide(RAIL_CLOTHES)
      Hide(AI_CLOTHES)
      Disable("potw_zonem.Marker(SplineFollower) 04")
      Hide("potw_zonem.TempPlatA1 01")
      Hide("potw_zonem.DynamicSplineFollower 06")
      Disable(AI_HOOK)
      Disable(RAIL_HOOK)
      Enable("potw_zonem_rails.TempPlatA1 12")
      SetReversed("potw_zonem_rails.TempPlatA1 12", 0)
      SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 12)
      FireThread(PoTW_OpenGate, nil, "potw_zonem_rails.DynamicRotatorSplineFollower 01")
      SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
      IS_PLANK_EXTENDED = true
      SetPropertyBool("potw_zonem_rails.TempPlatA1 12", "Is Real", true)
      FireThread(PotW_ExtendSlider, "potw_zonem_rails.TempPlatA1 01", 1.7)
      Unhide("potw_zonem_rails.Static_PlankCollision")
      Unhide("potw_zonem_rails.Static_PlankWalls")
      FireThread(PoTW_BallastDroponHookDeath)
      FireThread(PoTW_HideRailParticles)
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
      Disable("potw_zonem_rails.Trigger Close Camera")
      Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
      Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
      Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      wait(1)
      TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
      EnableGuardianSystem()
      StartTrackingCurrentLevelForScoring("Hook_Fight")
      if GetGlobal("PoTW_ZoneM_StickShiftCollected") == 0 then
        RestrictCutSceneInput()
        FireThread(PotW_LevelEndSequence)
      else
        Enable("potw_zonem_rails.Door_Aft")
        SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
        FireThread(PotW_RevealScreen, nil)
      end
    else
      SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
      ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
      Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
      ClearCutSceneStack()
      SetHealth(GetPlayer(), 5)
      Disable("potw_zonem_rails.PlaneTrigger Intro Start")
      ForceSketched("potw_zonem.StaticProp 13")
      if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
        StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
      end
      Hide(SAILS_HOOK)
      Disable(SAILS_HOOK)
      Hide(RAIL_HOOK)
      Hide(RAIL_CLOTHES)
      Hide(AI_CLOTHES)
      Disable("potw_zonem.Marker(SplineFollower) 04")
      Hide("potw_zonem.TempPlatA1 01")
      Hide("potw_zonem.DynamicSplineFollower 06")
      Disable(AI_HOOK)
      Disable(RAIL_HOOK)
      Unhide("potw_zonem_rails.Static_PlankCollision")
      FireThread(PoTW_BallastDroponHookDeath)
      FireThread(PoTW_HideRailParticles)
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
      Disable("potw_zonem_rails.Trigger Close Camera")
      Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
      Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
      Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
      Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
      Hide("potw_zonem.DynamicParentableProp 02")
      Hide("potw_zonem.DynamicParentableProp 01")
      Hide("potw_zonem.DynamicParentableRotator 14")
      Disable("potw_zonem.DynamicParentableRotator 14")
      TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
      EnableGuardianSystem()
      StartTrackingCurrentLevelForScoring("Hook_Fight")
      if GetGlobal("PoTW_ZoneM_StickShiftCollected") == 0 then
        RestrictCutSceneInput()
        FireThread(PotW_LevelEndSequence)
      else
        Enable("potw_zonem_rails.Door_Aft")
        SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
        FireThread(PotW_RevealScreen, nil)
      end
    end
  else
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    ClearCutSceneStack()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Enable("potw_zonem_rails.TempPlatA1 12")
    SetReversed("potw_zonem_rails.TempPlatA1 12", 0)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 12)
    FireThread(PoTW_OpenGate, nil, "potw_zonem_rails.DynamicRotatorSplineFollower 01")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
    IS_PLANK_EXTENDED = true
    SetPropertyBool("potw_zonem_rails.TempPlatA1 12", "Is Real", true)
    FireThread(PotW_ExtendSlider, "potw_zonem_rails.TempPlatA1 01", 1.7)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    Unhide("potw_zonem_rails.Static_PlankWalls")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    Hide("potw_zonem.DynamicParentableProp 02")
    Hide("potw_zonem.DynamicParentableProp 01")
    Hide("potw_zonem.DynamicParentableRotator 14")
    Disable("potw_zonem.DynamicParentableRotator 14")
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    RestrictCutSceneInput()
    FireThread(PotW_LevelEndSequence)
  end
end
PotW_ZoneM_CheckpointLoadAfterSpriteRescued = L0_0
function L0_0()
  ConceptArtSave = 5
  SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterHookDead", "potw_zonem_rails.PositionMarker 04")
end
PotW_ZoneM_SaveCheckpointAfterHookDead = L0_0
function L0_0()
  PotW_ZoneMInitialSetup(nil)
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Disable("potw_zonem.TriggerDamageVolume PushOut 01")
  Disable("potw_zonem.TriggerDamageVolume PushOut 02")
  Disable("potw_zonem.TriggerDamageVolume PushOut 03")
  ConceptArtSave = 5
  if GetGlobal("PoTW_ZoneM_HookOffPlank") == 1 then
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    ClearCutSceneStack()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Enable("potw_zonem_rails.TempPlatA1 12")
    SetReversed("potw_zonem_rails.TempPlatA1 12", 0)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 12)
    FireThread(PoTW_OpenGate, nil, "potw_zonem_rails.DynamicRotatorSplineFollower 01")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
    IS_PLANK_EXTENDED = true
    SetPropertyBool("potw_zonem_rails.TempPlatA1 12", "Is Real", true)
    FireThread(PotW_ExtendSlider, "potw_zonem_rails.TempPlatA1 01", 1.7)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    Unhide("potw_zonem_rails.Static_PlankWalls")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    wait(1)
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    RestrictCutSceneInput()
    FireThread(PotW_LevelEndSequence)
  else
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
    ClearCutSceneStack()
    SetHealth(GetPlayer(), 5)
    Disable("potw_zonem_rails.PlaneTrigger Intro Start")
    ForceSketched("potw_zonem.StaticProp 13")
    if GetGlobal("PoTW_ZoneM_WallCranked") == 1 then
      StartRotateToPosition("potw_zonem_rails.DynamicParentableRotator 05", -180)
    end
    Hide(SAILS_HOOK)
    Disable(SAILS_HOOK)
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(AI_CLOTHES)
    Disable("potw_zonem.Marker(SplineFollower) 04")
    Hide("potw_zonem.TempPlatA1 01")
    Hide("potw_zonem.DynamicSplineFollower 06")
    Disable(AI_HOOK)
    Disable(RAIL_HOOK)
    Unhide("potw_zonem_rails.Static_PlankCollision")
    FireThread(PoTW_BallastDroponHookDeath)
    FireThread(PoTW_HideRailParticles)
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    SetCameraAttributes("potw_zonem_rails.Hook_StickShift Cutscene Settings")
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    EnableGuardianSystem()
    StartTrackingCurrentLevelForScoring("Hook_Fight")
    RestrictCutSceneInput()
    FireThread(PotW_LevelEndSequence)
  end
end
PotW_ZoneM_CheckpointLoadAfterHookDead = L0_0
function L0_0(A0_4)
  IS_TREASURE_OPENED = true
end
PoTW_ZoneM_TreasureCollected = L0_0
function L0_0()
  wait(3)
  PotW_DefeatJollyRoger()
end
PotW_JollyRogerFight_Intro = L0_0
function L0_0()
  SetGlobal("PotW_JollyRogerDefeated", 1)
  SetGlobal("PotW_DaisyBody", 1)
  SetGlobal("PotW_DaisyParts", GetGlobal("PotW_DaisyParts") + 1)
  wait(5)
  SetVars_Pirates_v1_Complete()
  wait(5)
  if GetGlobal("AL_PiratesReturn") == 0 then
    LoadLevel(GetPlayer(), "Levels/Adventureland_v2_NoPirates.level")
  elseif GetGlobal("AL_PiratesReturn") == 1 then
    LoadLevel(GetPlayer(), "Levels/Adventureland_v2_Pirates.level")
  end
end
PotW_DefeatJollyRoger = L0_0
function L0_0()
  if GetGlobal("PotW_DaisyParts") == 4 and GetGlobal("PotW_EndLevelCutscene") == 0 then
    RestrictCutSceneInput()
    GrabCamera("potw_zonec_dynamic.EndOfLevelCameraControlPoint", "potw_zonec_dynamic.PoTW_BoatA 01", CAMERA_LERP_TRANSITION, 1)
    wait(4.1)
    ReleaseCamera(CAMERA_LERP_TRANSITION, 0.5)
    UnrestrictCutSceneInput()
    SetGlobal("PotW_EndLevelCutscene", 1)
  end
end
PotW_EndLevelHint = L0_0
function L0_0(A0_5)
  local L1_6, L2_7, L3_8, L4_9
  L1_6 = "potw_zonem.PotW_HookTatteredSail 01"
  L2_7 = "potw_zonem.PotW_HookTatteredSail 02"
  L3_8 = "potw_zonem.PotW_HookTatteredSail 03"
  L4_9 = "potw_zonem.PotW_HookTatteredSail 09"
  AnimEvent(L1_6, EVENT_Special_0)
  wait(0.2)
  AnimEvent(L1_6, EVENT_Special_1)
  wait(0.2)
  AnimEvent(L2_7, EVENT_Special_0)
  wait(0.2)
  AnimEvent(L2_7, EVENT_Special_1)
  wait(0.2)
  AnimEvent(L3_8, EVENT_Special_0)
  wait(0.2)
  AnimEvent(L3_8, EVENT_Special_1)
  wait(0.2)
  AnimEvent(L4_9, EVENT_Special_0)
  wait(0.2)
  AnimEvent(L4_9, EVENT_Special_1)
end
PotW_HookSailsOnLevelStart = L0_0
function L0_0(A0_10, A1_11, A2_12)
  if SAIL1_INITIALPAINTED == false then
    wait(tonumber(A1_11))
    AudioPostEventOn(A0_10, "Play_sfx_yardarm_mvmt_loop")
    wait(tonumber(A2_12))
    AudioPostEventOn(A0_10, "Stop_sfx_yardarm_mvmt_loop")
  end
end
PotW_SailCrankAudioPainted = L0_0
function L0_0(A0_13, A1_14, A2_15)
  wait(tonumber(A1_14))
  AudioPostEventOn(A0_13, "Play_sfx_yardarm_mvmt_loop")
  wait(tonumber(A2_15))
  AudioPostEventOn(A0_13, "Stop_sfx_yardarm_mvmt_loop")
end
PotW_SailCrankAudioSketched = L0_0
function L0_0(A0_16, A1_17, A2_18)
  AudioPostEventOn(A1_17, "Play_sfx_platform_swing")
  AudioPostEventOn(A0_16, "Play_sfx_pulley_loop_fast")
  wait(tonumber(A2_18))
  AudioPostEventOn(A0_16, "Stop_sfx_pulley_loop_fast")
end
PoTW_SwingingPlatformAudio = L0_0
function L0_0(A0_19, A1_20, A2_21, A3_22, A4_23, A5_24, A6_25)
  if SAIL1_INITIALPAINTED == true then
    wait(0.1)
    RestrictCutSceneInput()
    HideHud()
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) CallOutPaint")
    AnimEvent(A0_19, EVENT_Special_0)
    Hide(A1_20)
    AnimEvent(A1_20, EVENT_Special_0)
    AudioPostEventOn("potw_zonem.DynamicRotator 02", "Play_sfx_yardarm_mvmt_loop")
    wait(1.5)
    SetRotatorMaxSpeed(A2_21, A5_24)
    StartRotateToPosition(A2_21, A4_23)
    wait(0.75)
    PotW_SailSideShake(A6_25)
    SAIL1_INITIALPAINTED = false
    wait(0.25)
    AudioPostEventOn("potw_zonem.DynamicRotator 02", "Stop_sfx_yardarm_mvmt_loop")
    wait(1.25)
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 06")
    UnrestrictCutSceneInput()
    ShowHud()
  else
    wait(0.1)
    AnimEvent(A0_19, EVENT_Special_0)
    Hide(A1_20)
    AnimEvent(A1_20, EVENT_Special_0)
    wait(1)
    SetRotatorMaxSpeed(A2_21, A5_24)
    StartRotateToPosition(A2_21, A4_23)
    wait(0.75)
    PotW_SailSideShake(A6_25)
    wait(0.75)
  end
end
PotW_HookSailOnPainted = L0_0
function L0_0(A0_26, A1_27, A2_28, A3_29, A4_30, A5_31, A6_32)
  wait(0.1)
  AnimEvent(A0_26, EVENT_Special_0)
  Hide(A1_27)
  AnimEvent(A1_27, EVENT_Special_0)
  wait(1)
  SetRotatorMaxSpeed(A2_28, A5_31)
  StartRotateToPosition(A2_28, A4_30)
  wait(0.5)
  PotW_SailSideShake(A6_32)
end
PotW_HookSailOnPainted9 = L0_0
function L0_0(A0_33, A1_34, A2_35, A3_36, A4_37, A5_38, A6_39)
  wait(0.1)
  AnimEvent(A0_33, EVENT_Special_0)
  Hide(A1_34)
  AnimEvent(A1_34, EVENT_Special_0)
  wait(1)
  SetRotatorMaxSpeed(A2_35, A5_38)
  StartRotateToPosition(A2_35, A4_37)
  PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", GetPlayer(), 2, 1.5)
  wait(0.5)
  PotW_SailSideShake(A6_39)
  SAIL10_PAINTED = true
end
PotW_HookSailOnPainted10 = L0_0
function L0_0(A0_40)
  SAIL10_PAINTED = false
end
PotW_HookSailOnSketched10 = L0_0
function L0_0(A0_41, A1_42, A2_43, A3_44, A4_45, A5_46, A6_47)
  wait(0.1)
  AnimEvent(A0_41, EVENT_Special_1)
  Unhide(A1_42)
  AnimEvent(A1_42, EVENT_Special_1)
  wait(0.1)
  SetRotatorMaxSpeed(A2_43, A5_46)
  PotW_SailShake(A6_47)
  StartRotateToPosition(A2_43, A4_45)
end
PotW_HookSailOnSketched = L0_0
function L0_0(A0_48)
  WeightOnPlatformActivated = true
  PoTW_PlatformWeightPuzzle("potw_zonem.DynamicRotator 05", 2)
end
PoTW_ActivatePlatformWeightPuzzle = L0_0
function L0_0(A0_49, A1_50)
  if BarrelStateActivated then
    if tonumber(A1_50) == 1 then
      BarrelState = BarrelState + 1
    elseif tonumber(A1_50) == 0 then
      BarrelState = BarrelState - 1
    end
  end
end
PoTW_BarrelAdd = L0_0
function L0_0(A0_51)
  BarrelStateActivated = true
  PoTW_BarrelStatePuzzle("potw_zonem.DynamicRotator 04", 2)
end
PoTW_ActivateBarrelStatePuzzle = L0_0
function L0_0(A0_52, A1_53)
  if BarrelStateActivated then
    if tonumber(A1_53) == 1 then
      BarrelState = BarrelState + 1
    elseif tonumber(A1_53) == 0 then
      BarrelState = BarrelState - 1
    end
    if BarrelState == 2 then
      StartRotateToPosition("potw_zonem.DynamicRotator 04", 0)
    elseif BarrelState == 1 then
      StartRotateToPosition("potw_zonem.DynamicRotator 04", 90)
    elseif BarrelState == 0 then
      StartRotateToPosition("potw_zonem.DynamicRotator 04", 180)
    end
  end
end
PoTW_BarrelStatePuzzle = L0_0
function L0_0(A0_54, A1_55)
  if WeightOnPlatformActivated then
    if tonumber(A1_55) == 1 then
      WeightOnPlatform = WeightOnPlatform + 1
    elseif tonumber(A1_55) == 0 then
      WeightOnPlatform = WeightOnPlatform - 1
    end
    if WeightOnPlatform == 2 then
      SplineFollower_StopAtPosition("potw_zonem.DynamicRotator 05", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 0)
      SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 10", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 0)
      StartRotateToPosition("potw_zonem.DynamicRotator 05", 0)
    elseif WeightOnPlatform == 1 then
      SplineFollower_StopAtPosition("potw_zonem.DynamicRotator 05", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 0.5)
      SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 10", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 0.5)
      StartRotateToPosition("potw_zonem.DynamicRotator 05", -15)
    elseif WeightOnPlatform == 0 then
      SplineFollower_StopAtPosition("potw_zonem.DynamicRotator 05", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 1)
      SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 10", "potw_zonem.SplineKnot 07", "potw_zonem.SplineKnot 26", 1)
      StartRotateToPosition("potw_zonem.DynamicRotator 05", -30)
    end
  end
end
PoTW_PlatformWeightPuzzle = L0_0
function L0_0(A0_56, A1_57, A2_58, A3_59, A4_60, A5_61, A6_62)
  ReleaseSecondaryCameraTarget(nil)
  RestrictCutSceneInput()
  GrabCamera(A1_57, A2_58, CAMERA_LERP_TRANSITION, A3_59)
  wait(A5_61)
  ReleaseCamera(CAMERA_LERP_TRANSITION, A4_60)
  SetCameraAttributes(A6_62)
  UnrestrictCutSceneInput()
end
PotW_CutCam = L0_0
function L0_0(A0_63, A1_64, A2_65, A3_66)
  ReleaseSecondaryCameraTarget(nil)
  RestrictCutSceneInput()
  GrabCamera(A1_64, A2_65, CAMERA_LERP_TRANSITION, A3_66)
end
PotW_CutCamStart = L0_0
function L0_0(A0_67, A1_68)
  ReleaseCamera(CAMERA_LERP_TRANSITION, A1_68)
  UnrestrictCutSceneInput()
end
PotW_CutCamEnd = L0_0
function L0_0(A0_69, A1_70, A2_71, A3_72)
  if tonumber(A2_71) < 0.5 then
    if 0.5 > GetPropertyFloat(A0_69, "BranchPathChance") then
      SetSplineFollowerInitialSpeed(RAIL_HOOK, A3_72)
    end
  elseif tonumber(A2_71) > 0.5 and 0.5 < GetPropertyFloat(A0_69, "BranchPathChance") then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, A3_72)
  end
end
PoTW_SetBranchSpeed = L0_0
function L0_0()
  UnrestrictCutSceneInput()
  EndTrackingCurrentLevelForScoring("Hook_Fight")
  if GetGlobal("AL_AdventurelandProgress") == 2 then
    LoadLevel(GetPlayer(), "Levels/Adventureland_v2_NoPirates.level")
  elseif GetGlobal("AL_AdventurelandProgress") == 3 then
    LoadLevel(GetPlayer(), "Levels/Adventureland_v2_Pirates.level")
  end
end
LoadVenturelandFromHook = L0_0
function L0_0(A0_73)
  local L1_74, L2_75, L3_76, L4_77, L5_78, L6_79
  L1_74 = 8
  L2_75 = 4.5
  L3_76 = 0.05
  L4_77 = 1
  L5_78 = 0.005
  L6_79 = 0.002
  ShakeCamera(L1_74, L2_75, L3_76, L4_77, L5_78, L6_79)
end
PotW_SailShake = L0_0
function L0_0(A0_80)
  local L1_81, L2_82, L3_83, L4_84, L5_85
  L1_81 = 1.5
  L2_82 = 0.05
  L3_83 = 1
  L4_84 = 0.001
  L5_85 = 0.05
  ShakeCamera(A0_80, L1_81, L2_82, L3_83, L4_84, L5_85)
end
PotW_SailSideShake = L0_0
function L0_0(A0_86)
  if STAIRCAMERA == false then
    PoTW_DeckGameplayCameraClear(nil)
    wait(0.1)
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 02")
    STAIRCAMERA = true
  end
end
PoTW_StairCamera = L0_0
function L0_0(A0_87)
  local L1_88
  L1_88 = STAIRCAMERA
  if L1_88 == true then
    L1_88 = false
    STAIRCAMERA = L1_88
  end
end
PoTW_ReleaseStairCamera = L0_0
function L0_0()
  local L0_89, L1_90, L2_91, L3_92, L4_93, L5_94
  L0_89 = 3
  L1_90 = 0.25
  L2_91 = 0.5
  L3_92 = 1
  L4_93 = 0.015
  L5_94 = 0.01
  ShakeCamera(L0_89, L1_90, L2_91, L3_92, L4_93, L5_94)
end
PotW_ConstantShake = L0_0
function L0_0(A0_95)
  local L1_96, L2_97, L3_98, L4_99, L5_100, L6_101
  L1_96 = 1.5
  L2_97 = 3.5
  L3_98 = 0.05
  L4_99 = 1
  L5_100 = 0.025
  L6_101 = 0.001
  ShakeCamera(L1_96, L2_97, L3_98, L4_99, L5_100, L6_101)
end
PotW_CargoShake = L0_0
function L0_0(A0_102)
  GEARMACHINE_ACTIVE = true
  Enable("potw_zonem.DynamicParentableRotator 05")
  wait(0.1)
  GEARMACHINE_MOVING = true
end
PoTW_GearMachineActivate = L0_0
function L0_0(A0_103)
  if GEARMACHINE_ACTIVE == true and not GEAR_RESTED then
    Reverse("potw_zonem.DynamicParentableRotator 14")
    Reverse("potw_zonem.DynamicParentableRotator 02")
    Reverse("potw_zonem.DynamicParentableRotator 05")
    Reverse("potw_zonem.DynamicParentableRotator 06")
    Reverse("potw_zonem.DynamicRotator 09")
    GEARMACHINE_MOVING = true
  elseif GEARMACHINE_ACTIVE == true and GEAR_RESTED then
    Reverse("potw_zonem.DynamicParentableRotator 14")
    Reverse("potw_zonem.DynamicParentableRotator 02")
    Reverse("potw_zonem.DynamicParentableRotator 05")
    Reverse("potw_zonem.DynamicParentableRotator 06")
    Reverse("potw_zonem.DynamicRotator 09")
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 02", 200)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 14", 200)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 06", 200)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 05", 200)
    GEAR_RESTED = false
    GEARMACHINE_MOVING = true
  end
end
PoTW_GearMachineReverse = L0_0
function L0_0(A0_104)
  if GEARMACHINE_UP == false and GEARMACHINE_MOVING == true then
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 02", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 14", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 06", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 05", 0)
    SetSplineFollowerInitialSpeed("potw_zonem.DynamicRotator 09", 0)
    AudioPostEventOn("potw_zonem.DynamicRotator 09", "Stop_sfx_yardarm_mvmt_loop")
    AudioPostEventOn("potw_zonem.DynamicParentableRotator 14", "Stop_sfx_gear_mvmt_loop")
    wait(2)
    GEARMACHINE_UP = true
    GEAR_RESTED = true
    GEARMACHINE_MOVING = false
    AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
  elseif GEARMACHINE_MOVING == true then
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 02", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 14", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 06", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 05", 0)
    SetSplineFollowerInitialSpeed("potw_zonem.DynamicRotator 09", 0)
    AudioPostEventOn("potw_zonem.DynamicRotator 09", "Stop_sfx_yardarm_mvmt_loop")
    AudioPostEventOn("potw_zonem.DynamicParentableRotator 14", "Stop_sfx_gear_mvmt_loop")
    GEARMACHINE_UP = true
    GEAR_RESTED = true
    GEARMACHINE_MOVING = false
    wait(2)
    AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
  end
end
PotW_GearMachineUp = L0_0
function L0_0(A0_105)
  if GEARMACHINE_UP == true and GEARMACHINE_MOVING == true then
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 02", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 14", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 06", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 05", 0)
    SetSplineFollowerInitialSpeed("potw_zonem.DynamicRotator 09", 0)
    AudioPostEventOn("potw_zonem.DynamicRotator 09", "Stop_sfx_yardarm_mvmt_loop")
    AudioPostEventOn("potw_zonem.DynamicParentableRotator 14", "Stop_sfx_gear_mvmt_loop")
    GEARMACHINE_UP = false
    GEAR_RESTED = true
    GEARMACHINE_MOVING = false
    wait(2)
    AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
  elseif GEARMACHINE_MOVING == true then
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 02", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 14", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 06", 0)
    SetRotatorMaxSpeed("potw_zonem.DynamicParentableRotator 05", 0)
    SetSplineFollowerInitialSpeed("potw_zonem.DynamicRotator 09", 0)
    AudioPostEventOn("potw_zonem.DynamicRotator 09", "Stop_sfx_yardarm_mvmt_loop")
    AudioPostEventOn("potw_zonem.DynamicParentableRotator 14", "Stop_sfx_gear_mvmt_loop")
    GEARMACHINE_UP = false
    GEAR_RESTED = true
    GEARMACHINE_MOVING = false
    wait(2)
    AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
  end
end
PotW_GearMachineDown = L0_0
function L0_0(A0_106, A1_107)
  if GearsMoving == true then
    SetRotatorMaxSpeed(A0_106, A1_107)
    GearsMoving = false
  end
end
PotW_GearStop = L0_0
function L0_0(A0_108, A1_109, A2_110, A3_111)
  LowerGearInitiallyPainted = true
  LowerGearPainted = true
  GearsShaking = false
  GearsMoving = false
  while LowerGearPainted do
    if GetPosition(A0_108).y < 43.1 then
      if not GearsShaking then
        if WeightOnPlatform == 2 then
          TimerEnable("potw_zonem.LogicTimerMarker 01")
          StartEmitters("potw_zonem.ParticleScriptableWithParent 26")
          StartEmitters("potw_zonem.ParticleScriptableWithParent 27")
          GearsShaking = true
          GearsMoving = false
          AudioPostEventOn("potw_zonem.DynamicRotator 05", "Stop_sfx_yardarm_mvmt_loop_stopsilent")
          AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
        elseif WeightOnPlatform == 1 then
          TimerDisable("potw_zonem.LogicTimerMarker 01")
          GearsShaking = false
          GearsMoving = true
          StopEmitters("potw_zonem.ParticleScriptableWithParent 26")
          StopEmitters("potw_zonem.ParticleScriptableWithParent 27")
          SetRotatorMaxSpeed(A0_108, 200)
          SetRotatorMaxSpeed(A1_109, 200)
          SetRotatorMaxSpeed(A2_110, 200)
          SetRotatorMaxSpeed(A3_111, 200)
          AudioPostEventOn("potw_zonem.DynamicRotator 05", "Play_sfx_yardarm_mvmt_loop")
          AudioPostEventOn("potw_zonem.TempPlatA1 01", "Play_sfx_Hook_pulley_mvmt_loop")
        elseif WeightOnPlatform == 0 then
          TimerDisable("potw_zonem.LogicTimerMarker 01")
          GearsShaking = false
          GearsMoving = true
          StopEmitters("potw_zonem.ParticleScriptableWithParent 26")
          StopEmitters("potw_zonem.ParticleScriptableWithParent 27")
          SetRotatorMaxSpeed(A0_108, 200)
          SetRotatorMaxSpeed(A1_109, 200)
          SetRotatorMaxSpeed(A2_110, 200)
          SetRotatorMaxSpeed(A3_111, 200)
          AudioPostEventOn("potw_zonem.DynamicRotator 05", "Play_sfx_yardarm_mvmt_loop")
          AudioPostEventOn("potw_zonem.TempPlatA1 01", "Play_sfx_Hook_pulley_mvmt_loop")
        end
      end
    elseif GetPosition(A0_108).y > 46.5 and GetPosition(A0_108).y < 46.7 then
      if WeightOnPlatform == 1 and not GearsShaking then
        TimerEnable("potw_zonem.LogicTimerMarker 01")
        StartEmitters("potw_zonem.ParticleScriptableWithParent 26")
        StartEmitters("potw_zonem.ParticleScriptableWithParent 27")
        GearsShaking = true
        GearsMoving = false
        AudioPostEventOn("potw_zonem.DynamicRotator 05", "Stop_sfx_yardarm_mvmt_loop")
        AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
      end
    elseif GetPosition(A0_108).y > 50.2 then
      if GearsShaking or GearsMoving then
        TimerDisable("potw_zonem.LogicTimerMarker 01")
        StopEmitters("potw_zonem.ParticleScriptableWithParent 26")
        StopEmitters("potw_zonem.ParticleScriptableWithParent 27")
        GearsShaking = false
        SetRotatorMaxSpeed(A0_108, 0)
        SetRotatorMaxSpeed(A1_109, 0)
        SetRotatorMaxSpeed(A2_110, 0)
        SetRotatorMaxSpeed(A3_111, 0)
        GearsMoving = false
        AudioPostEventOn("potw_zonem.DynamicRotator 05", "Stop_sfx_yardarm_mvmt_loop")
        AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
      end
    elseif not GearsMoving then
      TimerDisable("potw_zonem.LogicTimerMarker 01")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 26")
      StopEmitters("potw_zonem.ParticleScriptableWithParent 27")
      GearsShaking = false
      SetRotatorMaxSpeed(A0_108, 200)
      SetRotatorMaxSpeed(A1_109, 200)
      SetRotatorMaxSpeed(A2_110, 200)
      SetRotatorMaxSpeed(A3_111, 200)
      GearsMoving = true
      AudioPostEventOn("potw_zonem.DynamicRotator 05", "Play_sfx_yardarm_mvmt_loop")
      AudioPostEventOn("potw_zonem.TempPlatA1 01", "Play_sfx_Hook_pulley_mvmt_loop")
    end
    wait(0.1)
  end
end
PotW_GearShake = L0_0
function L0_0(A0_112)
  LowerGearPainted = false
  GearsShaking = false
  GearsMoving = false
  AudioPostEventOn("potw_zonem.DynamicRotator 05", "Stop_sfx_yardarm_mvmt_loop")
  AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
end
PotW_StopGearShake = L0_0
function L0_0(A0_113)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and AIHOOKENABLED == true then
    AnimEvent(AI_HOOK, "EVENT_GoToSleep")
    AIHOOKENABLED = false
    wait(0.1)
    Hide(AI_HOOK)
    Hide(AI_CLOTHES)
    Hide(AI_COLLISION)
    AIHOOKFORCE_DISABLED = true
  end
end
PotW_AiHookDisable = L0_0
function L0_0(A0_114)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 and OnPlank == 0 and AIHOOKENABLED == false then
    Unhide(AI_HOOK)
    Unhide(AI_CLOTHES)
    Hide(AI_COLLISION)
    AnimEvent(AI_HOOK, "EVENT_PopOut")
    wait(1)
    AnimEvent(AI_HOOK, "EVENT_Finish_PopOut")
    AIHOOKENABLED = true
    AIHOOKFORCE_DISABLED = false
  end
end
PotW_AiHookEnable = L0_0
function L0_0(A0_115)
  if GetGlobal("PoTW_ZM_Start_Played") == 0 then
    SetLetterbox(1)
    RestrictCutSceneInput()
    PoTW_ZoneM_SaveCheckpointInFlyBy()
    SetMap(nil, "MAP_BOSS_JOLLY_ROGER", "GAME")
    AudioPostEventOn(GetPlayer(), "Mute_Mickey")
    Enable("potw_zonem_intro.CameraControlPoint_IntroCam")
    SetCameraAttributes("potw_zonem_intro.Marker(CameraOverride)_IntroCam")
    wait(0.5)
    EnableGuardianSystem()
    StartFadeInNoHUD(0.5)
    wait(1)
    ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_Start")
  end
end
PoTW_FlyBy = L0_0
function L0_0(A0_116)
  StartFadeOut(1)
  wait(2)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.MarkerFlyByTarget", 200)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.CameraControlPoint_IntroCam", 200)
  wait(1)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.MarkerFlyByTarget", 10)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.CameraControlPoint_IntroCam", 10)
  SetLetterbox(0)
  StartFadeInNoHUD(1)
  wait(1)
end
PoTW_FlyByEnd = L0_0
function L0_0(A0_117)
  wait(0.1)
  SetCameraAttributes("potw_zonem_intro.Marker(CameraOverride) 01")
  wait(0.1)
  AudioPostEventOn(GetPlayer(), "Unmute_Mickey")
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_FairyReminder3")
  EnterCutscene(GetPlayer(), 23)
  wait(3)
  ExitCutscene(GetPlayer())
  AnimEvent(GetPlayer(), EVENT_Finished_Sequence)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_Quest")
  StartTrackingCurrentLevelForScoring("Hook_Fight")
  wait(2.5)
  UnrestrictCutSceneInput()
  ShowHud()
end
PoTW_ReleaseFlyByCam = L0_0
function L0_0(A0_118)
  if BARREL == 1 then
    if CAMERAMID == false then
      SetCameraAttributes("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
      CLOSECAMERA = false
      LEFTCAMERA = false
      LEFTCAMERAFAR = false
      RIGHTCAMERA = false
      RIGHTCAMERAFAR = false
      SECRETROOMCAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = true
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif BARREL == 2 then
    if CLOSECAMERA == false then
      SetCameraAttributes("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
      CLOSECAMERA = true
      LEFTCAMERA = false
      LEFTCAMERAFAR = false
      RIGHTCAMERA = false
      RIGHTCAMERAFAR = false
      SECRETROOMCAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif BARREL == 3 and CAMERAFAR == false then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Far")
    CLOSECAMERA = false
    LEFTCAMERA = false
    LEFTCAMERAFAR = false
    RIGHTCAMERA = false
    RIGHTCAMERAFAR = false
    SECRETROOMCAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = true
    CAMERANORMAL = false
    CAMERAMID = false
    SSCutSceneCam = false
    LEFTCAMERABACK = false
  end
end
PoTW_DeckGameplayCameraClose = L0_0
function L0_0(A0_119)
  if UNDERSTAIRS_CAMERA == false then
    SetCameraAttributes("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
    UNDERSTAIRS_CAMERA = true
  end
end
PoTW_UnderStairsCamera = L0_0
function L0_0(A0_120)
  local L1_121
  L1_121 = UNDERSTAIRS_CAMERA
  if L1_121 == true then
    L1_121 = false
    UNDERSTAIRS_CAMERA = L1_121
  end
end
PoTW_UnderStairsCameraRelease = L0_0
function L0_0(A0_122)
  if LEFTCAMERAFAR == false and LEFTCAMERA == false then
    if BARREL == 3 then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Left Far")
      LEFTCAMERAFAR = true
      LEFTCAMERA = false
      SECRETROOMCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    else
      SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
      LEFTCAMERA = true
      LEFTCAMERAFAR = false
      SECRETROOMCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif LEFTCAMERAFAR == false then
    if BARREL == 3 then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Left Far")
      LEFTCAMERAFAR = true
      LEFTCAMERA = false
      SECRETROOMCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif LEFTCAMERA == false and (BARREL == 1 or BARREL == 2) then
    SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    LEFTCAMERA = true
    LEFTCAMERAFAR = false
    SECRETROOMCAMERA = false
    CLOSECAMERA = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERAMID = false
    SSCutSceneCam = false
    LEFTCAMERABACK = false
  end
end
PoTW_DeckGameplayCameraLeft = L0_0
function L0_0(A0_123)
  if RIGHTCAMERAFAR == false and RIGHTCAMERA == false then
    if BARREL == 3 then
      SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
      RIGHTCAMERAFAR = false
      RIGHTCAMERA = true
      CLOSECAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    else
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Right Far")
      RIGHTCAMERA = false
      RIGHTCAMERAFAR = true
      CLOSECAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif RIGHTCAMERAFAR == false then
    if BARREL ~= 3 then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Right Far")
      RIGHTCAMERAFAR = true
      RIGHTCAMERA = false
      CLOSECAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      SSCutSceneCam = false
      LEFTCAMERABACK = false
    end
  elseif RIGHTCAMERA == false and BARREL == 3 then
    SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    RIGHTCAMERA = true
    RIGHTCAMERAFAR = false
    CLOSECAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERAMID = false
    SSCutSceneCam = false
    LEFTCAMERABACK = false
  end
end
PoTW_DeckGameplayCameraRight = L0_0
function L0_0(A0_124)
  if LEFTCAMERAFAR == false and LEFTCAMERABACK == false then
    if BARREL == 1 or BARREL == 2 then
      SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
      LEFTCAMERAFAR = false
      LEFTCAMERA = false
      CLOSECAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      LEFTCAMERABACK = true
    else
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Left Far")
      LEFTCAMERAFAR = true
      LEFTCAMERA = false
      SECRETROOMCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      LEFTCAMERABACK = false
    end
  elseif LEFTCAMERAFAR == false then
    if BARREL == 3 then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Left Far")
      LEFTCAMERAFAR = true
      LEFTCAMERA = false
      SECRETROOMCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
      LEFTCAMERABACK = false
    end
  elseif LEFTCAMERABACK == false and (BARREL == 1 or BARREL == 2) then
    SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    LEFTCAMERAFAR = false
    LEFTCAMERA = false
    CLOSECAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERAMID = false
    LEFTCAMERABACK = true
  end
end
PoTW_DeckGameplayCameraBackLeft = L0_0
function L0_0(A0_125)
  if RIGHTCAMERAFAR == false and RIGHTCAMERABACKFAR == false then
    if BARREL ~= 2 then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Right Far")
      RIGHTCAMERAFAR = true
      RIGHTCAMERABACKFAR = false
      RIGHTCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
    else
      SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
      RIGHTCAMERA = false
      RIGHTCAMERAFAR = false
      RIGHTCAMERABACKFAR = true
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
    end
  elseif RIGHTCAMERABACKFAR == false then
    if BARREL == 2 then
      SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
      RIGHTCAMERAFAR = false
      RIGHTCAMERABACKFAR = true
      RIGHTCAMERA = false
      CLOSECAMERA = false
      CAMERAFAR = false
      CAMERANORMAL = false
      CAMERAMID = false
    end
  elseif RIGHTCAMERAFAR == false and BARREL ~= 2 then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Right Far")
    RIGHTCAMERA = false
    RIGHTCAMERAFAR = true
    CLOSECAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERAMID = false
  end
end
PoTW_DeckGameplayCameraBackRight = L0_0
function L0_0(A0_126)
  if CAMERARIGHTWALL == false then
    SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right Wall")
    CAMERARIGHTWALL = true
  end
end
PoTW_DeckGameplayCameraRightWall = L0_0
function L0_0(A0_127)
  local L1_128
  L1_128 = false
  CAMERANORMAL = L1_128
  L1_128 = false
  LEFTCAMERA = L1_128
  L1_128 = false
  LEFTCAMERAFAR = L1_128
  L1_128 = false
  CLOSECAMERA = L1_128
  L1_128 = false
  RIGHTCAMERA = L1_128
  L1_128 = false
  RIGHTCAMERAFAR = L1_128
  L1_128 = false
  SECRETROOMCAMERA = L1_128
  L1_128 = false
  RIGHTCAMERABACKFAR = L1_128
  L1_128 = false
  CAMERAFAR = L1_128
  L1_128 = false
  CAMERAMID = L1_128
  L1_128 = false
  SSCutSceneCam = L1_128
  L1_128 = false
  CAMERARIGHTWALL = L1_128
  L1_128 = false
  LEFTCAMERABACK = L1_128
  L1_128 = false
  SECRETROOMCAMERA = L1_128
end
PoTW_DeckGameplayCameraClear = L0_0
function L0_0(A0_129)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    if CAMERANORMAL == false then
      SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay")
      LEFTCAMERA = false
      LEFTCAMERAFAR = false
      CLOSECAMERA = false
      RIGHTCAMERA = false
      RIGHTCAMERAFAR = false
      SECRETROOMCAMERA = false
      RIGHTCAMERABACKFAR = false
      CAMERAFAR = false
      CAMERANORMAL = true
      CAMERAMID = false
      SSCutSceneCam = false
      CAMERARIGHTWALL = false
      LEFTCAMERABACK = false
    end
  else
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    if IS_WALL_BLOWN == true then
      Enable("potw_zonem_rails.PlaneTrigger Secret Room")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    end
    Enable("potw_zonem_rails.Trigger Complete Camera")
    Enable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete Screen")
    Enable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete StickShift")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 01")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 02")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride Screen")
  end
end
PoTW_DeckGameplayCameraNormal = L0_0
function L0_0(A0_130)
  if CAMERAMID == false then
    SetCameraAttributes("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    LEFTCAMERA = false
    LEFTCAMERAFAR = false
    CLOSECAMERA = false
    RIGHTCAMERA = false
    RIGHTCAMERAFAR = false
    SECRETROOMCAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERAMID = true
    CAMERARIGHTWALL = false
    SSCutSceneCam = false
    LEFTCAMERABACK = false
  end
end
PoTW_DeckGameplayCameraMid = L0_0
function L0_0(A0_131)
  if SECRETROOMCAMERA == false then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Secret Room")
    SECRETROOMCAMERA = true
    LEFTCAMERA = false
    LEFTCAMERAFAR = false
    CLOSECAMERA = false
    RIGHTCAMERA = false
    RIGHTCAMERAFAR = false
    SECRETROOMCAMERA = false
    RIGHTCAMERABACKFAR = false
    CAMERAFAR = false
    CAMERANORMAL = false
    CAMERARIGHTWALL = false
    SSCutSceneCam = false
    LEFTCAMERABACK = false
  end
end
PoTW_SecretRoomCamera = L0_0
function L0_0(A0_132)
  SECRETROOMCAMERA = false
end
PoTW_SecretRoomCameraReset = L0_0
function L0_0(A0_133)
  IS_PIN_COLLECTED = true
end
PoTW_SecretRoomChest = L0_0
function L0_0(A0_134, A1_135, A2_136)
  local L3_137, L4_138, L5_139
  L3_137 = GetPosition
  L4_138 = AI_HOOK
  L3_137 = L3_137(L4_138)
  L4_138 = GetPosition
  L5_139 = A0_134
  L4_138 = L4_138(L5_139)
  L5_139 = GetPosition
  L5_139 = L5_139(A1_135)
  if math.sqrt((L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).x * (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).x + (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).y * (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).y + (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).z * (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139).z) > 0.1 then
    (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139):normalize3()
    L5_139 = L5_139 + (L3_137 + GetFacing(AI_HOOK) * -3 - L5_139) * 0.001
    SetTransformation(A1_135, L5_139, vector4(0, 0, 0))
  end
  if math.sqrt((L5_139 - L4_138).x * (L5_139 - L4_138).x + (L5_139 - L4_138).y * (L5_139 - L4_138).y + (L5_139 - L4_138).z * (L5_139 - L4_138).z) > 0.5 then
    (L5_139 - L4_138):normalize3()
    L4_138 = L4_138 + (L5_139 - L4_138) * (tonumber(A2_136) / 30)
    SetTransformation(A0_134, L4_138, vector4(0, 0, 0))
  end
end
PoTW_FollowHook = L0_0
function L0_0(A0_140)
  AnimGBSequence(NAME_GEAR1, "spin")
  wait(0.2)
  PoTW_HideRailParticles()
  if not GEAR1_CRANKED then
    GEAR1_CRANKED = true
    AnimGBSequence(NAME_JUNCTION1, "spin_toRight90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 1 Collision", 200)
    AudioPostEventOn(NAME_GEAR1, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 34", 1)
  else
    GEAR1_CRANKED = false
    AnimGBSequence(NAME_JUNCTION1, "spin_toLeft90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 1 Collision", 200)
    AudioPostEventOn(NAME_GEAR1, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 34", 0)
  end
  wait(2)
  AnimGBSequence(NAME_GEAR1, "rest")
  SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 1 Collision", 0)
  if BARREL == 3 and GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    PotW_Barrel3Particles()
  end
end
PoTW_Junction1Spin = L0_0
function L0_0(A0_141)
  AnimGBSequence(NAME_GEAR2, "spin")
  wait(0.2)
  PoTW_HideRailParticles()
  if not GEAR2_CRANKED then
    GEAR2_CRANKED = true
    AnimGBSequence(NAME_JUNCTION2, "spin_toRight90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 2 Collision", 200)
    AudioPostEventOn(NAME_GEAR2, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 78", 1)
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 79", 1)
  else
    GEAR2_CRANKED = false
    AnimGBSequence(NAME_JUNCTION2, "spin_toLeft90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 2 Collision", 200)
    AudioPostEventOn(NAME_GEAR2, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 78", 0)
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 79", 0)
  end
  wait(2)
  AnimGBSequence(NAME_GEAR2, "rest")
  SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 2 Collision", 0)
  if BARREL == 1 and GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    PotW_Barrel1Particles()
  end
end
PoTW_Junction2Spin = L0_0
function L0_0(A0_142)
  AnimGBSequence(NAME_GEAR3, "spin")
  wait(0.2)
  PoTW_HideRailParticles()
  if not GEAR3_CRANKED then
    GEAR3_CRANKED = true
    AnimGBSequence(NAME_JUNCTION3, "spin_toLeft90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3 Collision", 200)
    AudioPostEventOn(NAME_GEAR3, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 05", 1)
  else
    GEAR3_CRANKED = false
    AnimGBSequence(NAME_JUNCTION3, "spin_toRight90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3 Collision", 200)
    AudioPostEventOn(NAME_GEAR3, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 05", 0)
  end
  wait(2)
  AnimGBSequence(NAME_GEAR3, "rest")
  SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3 Collision", 0)
  if BARREL == 3 and GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    PotW_Barrel3Particles()
  end
end
PoTW_Junction3Spin = L0_0
function L0_0(A0_143)
  AnimGBSequence(NAME_GEAR3a, "spin")
  wait(0.2)
  PoTW_HideRailParticles()
  if not GEAR3a_CRANKED then
    GEAR3a_CRANKED = true
    AnimGBSequence(NAME_JUNCTION3a, "spin_toLeft90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3a Collision", 200)
    AudioPostEventOn(NAME_GEAR3a, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 03", 1)
  else
    GEAR3a_CRANKED = false
    AnimGBSequence(NAME_JUNCTION3a, "spin_toRight90")
    SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3a Collision", 200)
    AudioPostEventOn(NAME_GEAR3a, "Play_sfx_Capstan_rotate")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 03", 0)
  end
  wait(2)
  AnimGBSequence(NAME_GEAR3a, "rest")
  SetRotatorMaxSpeed("potw_zonem_rails.JunctionPoint 3a Collision", 0)
  if BARREL == 2 and GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    PotW_Barrel2Particles()
  end
end
PoTW_Junction3aSpin = L0_0
function L0_0(A0_144)
  SetPropertyBool("potw_zonem_intro.Capstan 01", "ForceInvulnerable", true)
  AnimGBSequence(NAME_GEAR4, "spin")
  wait(0.2)
  if not GEAR4_CRANKED then
    GEAR4_CRANKED = true
    SplineFollower_StopAtPosition("potw_zonem_intro.DynamicRotatorSplineFollower 01", "potw_zonem_intro.SplineKnot 01", "potw_zonem_intro.SplineKnot 02", 1)
    SplineFollower_StopAtPosition("potw_zonem_rails.DynamicRotatorSplineFollower 03", "potw_zonem_rails.SplineKnot 27", "potw_zonem_rails.SplineKnot 28", 1)
    SetRotatorMaxSpeed("potw_zonem_intro.DynamicRotator 01", 200)
    AudioPostEventOn("potw_zonem_intro.DynamicRotatorSplineFollower 01", "Play_sfx_pulley_loop")
    wait(0.5)
    SetSplineFollowerInitialSpeed("potw_zonem_intro.DynamicRotatorSplineFollower 01", 12)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.DynamicRotatorSplineFollower 03", 12)
  else
    GEAR4_CRANKED = false
    SplineFollower_StopAtPosition("potw_zonem_intro.DynamicRotatorSplineFollower 01", "potw_zonem_intro.SplineKnot 01", "potw_zonem_intro.SplineKnot 02", 0)
    SplineFollower_StopAtPosition("potw_zonem_rails.DynamicRotatorSplineFollower 03", "potw_zonem_rails.SplineKnot 27", "potw_zonem_rails.SplineKnot 28", 0)
    SetRotatorMaxSpeed("potw_zonem_intro.DynamicRotator 01", 200)
    AudioPostEventOn("potw_zonem_intro.DynamicRotatorSplineFollower 01", "Play_sfx_pulley_loop")
    wait(0.5)
    SetSplineFollowerInitialSpeed("potw_zonem_intro.DynamicRotatorSplineFollower 01", 12)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.DynamicRotatorSplineFollower 03", 12)
  end
  wait(1)
  SetRotatorMaxSpeed("potw_zonem_intro.DynamicRotator 01", 0)
  wait(1)
  AnimGBSequence(NAME_GEAR4, "rest")
  AudioPostEventOn("potw_zonem_intro.DynamicRotatorSplineFollower 01", "Stop_sfx_pulley_loop")
  SetPropertyBool("potw_zonem_intro.Capstan 01", "ForceInvulnerable", false)
end
PoTW_Junction4Spin = L0_0
function L0_0()
  AnimGBSequence(NAME_GEAR2, "spin")
  wait(0.2)
  PoTW_HideRailParticles()
  if GEAR2_CRANKED == true then
    GEAR2_CRANKED = false
    AnimGBSequence(NAME_JUNCTION2, "spin_toLeft90")
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 78", 0)
    SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 79", 0)
  end
  wait(2)
  AnimGBSequence(NAME_GEAR2, "rest")
  if BARREL == 1 then
    PotW_Barrel1Particles()
  end
end
PoTW_Junction2Setup = L0_0
function L0_0(A0_145)
  if GetGlobal("PoTW_ZM_Hook7_Played") == 0 then
    AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
    AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
    AnimEvent(RAIL_HOOK, "EVENT_PopDown")
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(COLLISION_BARREL1)
    Hide(COLLISION_BARREL2)
    Hide(COLLISION_BARREL3)
    Hide(SAILS_HOOK)
    Hide(SAILS_HOOK_CLOTHES)
    Hide("potw_zonem.HookSword_Animated 01")
  end
end
PoTW_HookIntroSetup = L0_0
function L0_0(A0_146)
  local L1_147
  L1_147 = SetLetterbox
  L1_147(1)
  L1_147 = RestrictCutSceneInput
  L1_147()
  L1_147 = SetPropertyInt
  L1_147(RAIL_CLOTHES, "Collision Layer", 13)
  L1_147 = Hide
  L1_147("potw_zonem_intro.AnimatronicTicTocCroc 01")
  L1_147 = AudioPostEventOn
  L1_147("potw_zonem_intro.DynamicRotatorSplineFollower 02", "Stop_sfx_pulley2_loop")
  L1_147 = AudioPostEventOn
  L1_147(GetPlayer(), "Play_music_piratesofthewasteland_boss")
  L1_147 = AudioSetState
  L1_147(GetPlayer(), "Music_State", "Boss_Intro")
  L1_147 = AudioPostEventOn
  L1_147(GetPlayer(), "Mute_Mickey")
  L1_147 = ClearParent
  L1_147(SAILS_HOOK)
  L1_147 = wait
  L1_147(0.1)
  L1_147 = ClearAllCameraAttributes
  L1_147()
  L1_147 = SetCameraAttributes
  L1_147("potw_zonem_rails.Marker(CameraOverride) 24")
  L1_147 = wait
  L1_147(0.5)
  L1_147 = HideHud
  L1_147()
  L1_147 = Hide
  L1_147("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
  L1_147 = Hide
  L1_147("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
  L1_147 = Hide
  L1_147("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
  L1_147 = Hide
  L1_147("potw_zonem_rails.Trigger Close Camera")
  L1_147 = SplineKnotComponent_SetBranchProbability
  L1_147("potw_zonem_rails.SplineKnot 75", 1)
  L1_147 = PotW_OpenBarrelDoors
  L1_147(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  L1_147 = AnimEvent
  L1_147(NAME_BARREL2, "EVENT_BarrelSpinUp")
  L1_147 = wait
  L1_147(0.75)
  L1_147 = TeleportToEntity
  L1_147(SAILS_HOOK, "potw_zonem_rails.Marker(SplineFollower) 10")
  L1_147 = SetParentEntity
  L1_147(SAILS_HOOK, "potw_zonem_rails.Marker(SplineFollower) 10")
  L1_147 = GetChildEntityByName
  L1_147 = L1_147(SAILS_HOOK, "AnimatronicHookInSails_ThinnerHandgun")
  SetTarget(L1_147, "potw_zonem.StaticProp 13")
  wait(0.1)
  StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
  wait(0.3)
  Unhide(SAILS_HOOK)
  Unhide(SAILS_HOOK_CLOTHES)
  Hide(IGC_HOOK_CLOTHES)
  AnimEvent(SAILS_HOOK, "EVENT_PopOut")
  AnimEvent(NAME_BARREL2, "EVENT_PopOut")
  wait(0.5)
  SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 78", 0)
  SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 79", 0)
  HookTarget = GetEntity("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
  wait(0.86)
  StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
  wait(0.34)
  for _FORV_5_ = 1, 3 do
    AnimEvent(SAILS_HOOK, "EVENT_AttackGunMid")
    wait(0.15)
    Shooter_PrepareProjectiles(L1_147)
    Shooter_LaunchProjectiles(L1_147)
    wait(0.4)
  end
  HookTarget = _FOR_()
  wait(1)
  ForceSketched("potw_zonem_intro.DynamicRotatorSplineFollower 02")
  Hide("potw_zonem_intro.DynamicRotatorSplineFollower 02")
  Hide("potw_zonem_intro.HealthSmall_Parentable 02")
  Hide("potw_zonem_intro.StaticProp 09")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 12)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 10)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook1")
  AudioPostEventOn(SAILS_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(SAILS_HOOK, "EVENT_Idle_talk1")
end
PoTW_HookIntroStart = L0_0
function L0_0()
  AnimEvent(NAME_BARREL2, "EVENT_PopDown")
  AnimEvent(SAILS_HOOK, "EVENT_PopDown")
  wait(0.5)
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  PoTW_ZoneM_Sails_Disable(SAILS_HOOK)
  TeleportToEntity(SAILS_HOOK, "potw_zonem.PositionMarker(Parentable and WithChild) 01")
  SetParentEntity(SAILS_HOOK, "potw_zonem.PositionMarker(Parentable and WithChild) 01")
  SetPropertyInt(SAILS_HOOK, "Bone Attach Rotate Mode", 1)
  SetPropertyVector(SAILS_HOOK, "Bone Attach Offset", vector4(0, -0.1, 0))
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 12)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 14)
  SplineFollower_TeleportToKnot(RAIL_HOOK, GetEntity(NAME_WARPKNOT1))
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  wait(0.5)
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  Unhide(RAIL_HOOK)
  Unhide(RAIL_CLOTHES)
  ForcePainted(RAIL_CLOTHES)
  StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
  Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
  AnimEvent(NAME_BARREL1, "EVENT_BarrelSpinUp")
  wait(0.75)
  StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
  wait(0.3)
  AnimEvent(RAIL_HOOK, "EVENT_PopOut")
  AnimEvent(NAME_BARREL1, "EVENT_PopOut")
  wait(0.5)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook2")
  AudioPostEventOn(RAIL_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(RAIL_HOOK, "EVENT_Idle_talk2")
  wait(0.86)
  StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
end
PoTW_HookIntro2 = L0_0
function L0_0()
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  wait(2)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 12)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook3")
  AnimEvent(RAIL_HOOK, "EVENT_MoveForward")
  wait(0.2)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 8)
  AudioPostEventOn(RAIL_HOOK, "Play_hook_track_spin_loop")
  wait(0.2)
  SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 85", 1)
end
PoTW_HookIntro3 = L0_0
function L0_0(A0_148)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook4")
  AnimEvent(RAIL_HOOK, "EVENT_StopMoveForward")
  wait(0.5)
  AudioPostEventOn(RAIL_HOOK, "Stop_hook_track_spin_loop")
  AudioPostEventOn(RAIL_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(RAIL_HOOK, "EVENT_Idle_talk3")
end
PoTW_CrankInPlank = L0_0
function L0_0()
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 14)
  AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 11", "spin")
  AnimEvent(RAIL_HOOK, "EVENT_SlotSpin")
  SetReversed("potw_zonem_rails.TempPlatA1 12", 1)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.TempPlatA1 12", 3.2)
  AudioPostEventOn("potw_zonem_rails.TempPlatA1 12", "Play_sfx_plank_mvmt_loop")
  wait(0.1)
  PoTW_CloseGate()
  SplineFollower_StopAtPosition("potw_zonem_rails.TempPlatA1 12", "potw_zonem_rails.SplineKnot 46", "potw_zonem_rails.SplineKnot 09", 1)
  wait(1.5)
  AudioPostEventOn("potw_zonem_rails.TempPlatA1 12", "Stop_sfx_plank_mvmt_loop")
  AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Stop_sfx_gate_mvmt_loop")
  AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 11", "stop_cog")
  AnimEvent(RAIL_HOOK, "EVENT_SlotSpinStop")
  wait(2)
  PotW_OpenGrateIntro(nil, "potw_zonem_rails.TempPlatA1 03", 0)
  SetPropertyEntity(RAIL_HOOK, "RotateToEntity", "potw_zonem_rails.SplineKnot 99")
  AnimEvent(RAIL_HOOK, "EVENT_JumpBelow")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 20)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 22)
  wait(0.27)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook5")
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 45)
  wait(1.5)
  PotW_CloseGrateIntro(nil, "potw_zonem_rails.TempPlatA1 03")
end
PoTW_CrankInPlank2 = L0_0
function L0_0()
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  wait(0.2)
  AnimEvent(NAME_BARREL3, "EVENT_BarrelSpinUp")
  SplineFollower_TeleportToKnot(RAIL_HOOK, GetEntity(NAME_WARPKNOT3))
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 20)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 22)
  wait(1)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook6")
  StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 03")
  wait(0.3)
  AnimEvent(NAME_BARREL3, "EVENT_PopOut")
  AnimEvent(RAIL_HOOK, "EVENT_PopOut")
  wait(0.5)
  AudioPostEventOn(RAIL_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(RAIL_HOOK, "EVENT_Idle_talk2")
  wait(0.86)
  StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 03")
end
PoTW_HookIntroEnd = L0_0
function L0_0()
  AnimEvent(RAIL_HOOK, "EVENT_PopDown")
  AnimEvent(NAME_BARREL3, "EVENT_PopDown")
  wait(0.5)
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  AnimEvent(NAME_BARREL1, "EVENT_BarrelSpinUp")
  SplineFollower_TeleportToKnot(RAIL_HOOK, GetEntity(NAME_WARPKNOT1))
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 20)
  wait(0.5)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 22)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook7")
  StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
  wait(0.3)
  AnimEvent(NAME_BARREL1, "EVENT_PopOut")
  AnimEvent(RAIL_HOOK, "EVENT_PopOut")
  wait(0.5)
  AudioPostEventOn(RAIL_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(RAIL_HOOK, "EVENT_Idle_talk1")
  wait(0.86)
  StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
end
PoTW_HookIntroEnd2 = L0_0
function L0_0()
  AnimEvent(RAIL_HOOK, "EVENT_PopDown")
  AnimEvent(NAME_BARREL1, "EVENT_PopDown")
  wait(0.5)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  wait(0.5)
  AnimEvent(NAME_BARREL2, "EVENT_BarrelSpinUp")
  SplineFollower_TeleportToKnot(RAIL_HOOK, GetEntity(NAME_WARPKNOT2))
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  wait(0.75)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 20)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook8")
  AnimEvent(NAME_BARREL2, "EVENT_PopOut")
  StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
  wait(0.3)
  AnimEvent(RAIL_HOOK, "EVENT_PopOut")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 20)
  wait(0.5)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 17)
  wait(0.5)
  AudioPostEventOn(RAIL_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  AnimEvent(RAIL_HOOK, "EVENT_Idle_talk3")
  wait(0.36)
  StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
end
PoTW_HookIntroEnd3 = L0_0
function L0_0()
  AnimEvent(RAIL_HOOK, "EVENT_PopDown")
  AnimEvent(NAME_BARREL2, "EVENT_PopDown")
  wait(0.5)
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 05", 6)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Marker(Usable) 09", 4)
  wait(2)
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  AnimEvent(NAME_BARREL1, "EVENT_BarrelSpinUp")
  wait(0.5)
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelSpinUp")
  wait(0.5)
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelSpinUp")
  wait(0.5)
  PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  wait(4.5)
  Unhide("potw_zonem_rails.AnimatronicTicTocCroc 02")
  AnimEvent("potw_zonem_rails.AnimatronicTicTocCroc 02", "EVENT_CrocIntro")
  wait(1.5)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookCroc")
end
PoTW_HookIntroEnd4 = L0_0
function L0_0()
  SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 75", 0)
  StartFadeOut(1.333)
  StartFadeOut(1.333)
  wait(1.333)
  AudioSetState(GetPlayer(), "Music_State", "Boss")
  Unhide("potw_zonem_intro.AnimatronicTicTocCroc 01")
  TeleportToEntity(GetPlayer(), "potw_zonem_rails.SplineKnot 09")
  Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
  Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
  Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
  Unhide("potw_zonem_rails.Trigger Close Camera")
  Disable("potw_zonem_intro.PlaneTrigger PlankCollision")
  wait(0.1)
  ClearAllCameraAttributesTimedSD(GetPlayer(), 0.1)
  ClearCameraHintAll(GetPlayer())
  wait(0.1)
  Unhide("potw_zonem_rails.Static_PlankCollision")
  Enable("potw_zonem_rails.Trigger Gameplay Camera Normal")
  PotW_ZoneMLoad()
  SetPropertyInt(RAIL_CLOTHES, "Collision Layer", 5)
  ForceSketched(RAIL_CLOTHES)
  PotW_GoToHookPhase(nil, 0)
  SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 85", 0)
  SetLetterbox(0)
  UnrestrictCutSceneInput()
  StartFadeIn(1)
  wait(1)
  ShowHud()
  AudioPostEventOn(GetPlayer(), "Unmute_Mickey")
  wait(0.2)
  PotW_ZoneM_SaveCheckpoint()
end
PoTW_HookIntroEnd5 = L0_0
function L0_0(A0_149, A1_150)
  AnimEvent(RAIL_HOOK, "EVENT_JumpBelow")
  wait(0.27)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, A1_150)
  if GetHealth(RAIL_HOOK) == 4 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
  elseif GetHealth(RAIL_HOOK) == 3 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
  elseif GetHealth(RAIL_HOOK) == 2 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
  elseif GetHealth(RAIL_HOOK) == 1 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
  end
end
PoTW_HookExitScene = L0_0
function L0_0()
  AudioPostEventOn(RAIL_HOOK, "Stop_hook_track_spin_loop")
  Damage(RAIL_HOOK, 1)
  if GetHealth(RAIL_HOOK) == 4 or GetHealth(RAIL_HOOK) == 2 then
    AdvanceBossStage(AI_HOOK)
  elseif GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
end
PoTW_HookDamage = L0_0
function L0_0(A0_151, A1_152)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatFlat")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.5)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_152, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_152, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_152, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_152, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_HitSplatLoop")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint 07", 10)
    wait(1.5)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCDoorSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookSplat = L0_0
function L0_0(A0_153, A1_154)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatHands")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.5)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_154, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_154, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_154, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(1.5)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_154, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_HitSplatLoop")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.5)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.CameraControlPoint_AfterSplat", 10)
    wait(1.5)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCPoleSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookPoleSplat = L0_0
function L0_0(A0_155, A1_156, A2_157)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    AnimGBReset(A1_156)
    AnimGBSequence(A1_156, "plank_hit")
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatFlat")
    PoTW_CameraShake()
    wait(0.5)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    AnimGBSequence(A1_156, "rest_plank_up")
    AnimGBSequence(A1_156, "rest_plank")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(1.4)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A2_157, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(1.4)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A2_157, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(1.4)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A2_157, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(1.4)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A2_157, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimGBReset(A1_156)
    AnimGBSequence(A1_156, "plank_hit")
    AnimEvent(RAIL_HOOK, "EVENT_HitSplatLoop")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.5)
    AnimGBSequence(A1_156, "rest_plank_up")
    wait(1)
    AnimGBSequence(A1_156, "rest_plank")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    AnimGBReset(A1_156)
    ZoneM_Rails_PrepareForIGCLooseBoardSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookPlankSplat = L0_0
function L0_0(A0_158, A1_159)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.1)
    Hook_DropManyPickups("potw_zonem_rails.AnimatronicHook 01")
    wait(0.4)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_159, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_159, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_159, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_159, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCUnfinishedTrackSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookSplatGround = L0_0
function L0_0(A0_160, A1_161)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.1)
    Hook_DropManyPickups("potw_zonem_rails.AnimatronicHook 01")
    wait(0.4)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_161, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_161, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_161, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_161, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCLeftCogSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookSplatLeftCog = L0_0
function L0_0(A0_162, A1_163)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.1)
    Hook_DropManyPickups("potw_zonem_rails.AnimatronicHook 01")
    wait(0.4)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_163, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_163, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_163, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_163, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCMiddleCogSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookSplatMiddleCog = L0_0
function L0_0(A0_164, A1_165)
  PoTW_HookDamage()
  if GetHealth(RAIL_HOOK) == 0 then
    SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(0.1)
    Hook_DropManyPickups("potw_zonem_rails.AnimatronicHook 01")
    wait(0.4)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt")
      PotW_OpenAndCloseGrate(nil, A1_165, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt2")
      PotW_OpenAndCloseGrate(nil, A1_165, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt3")
      PotW_OpenAndCloseGrate(nil, A1_165, 0, 2)
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
      wait(0.9)
      ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_HookHurt4")
      PotW_OpenAndCloseGrate(nil, A1_165, 0, 2)
    end
  else
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimEvent(RAIL_HOOK, "EVENT_React_hitSplatGround")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Impact")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    PoTW_CameraShake()
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
    ZoneM_Rails_PrepareForIGCRightCogSplat()
    PotW_DestroyHook()
  end
end
PoTW_HookSplatRightCog = L0_0
function L0_0(A0_166, A1_167)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  AnimEvent(RAIL_HOOK, "EVENT_React_hitStop")
  StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
  Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
  wait(1.4)
  PotW_OpenAndCloseGrate(nil, A1_167, 0, 2)
end
PoTW_HookAbruptStop = L0_0
function L0_0(A0_168)
  if IS_WALL_BLOWN == true then
    Hide("potw_zonem_rails.StaticBreakable 01")
  else
    Enable("potw_zonem_rails.StaticBreakable 01")
  end
end
PoTW_WallCheck = L0_0
function L0_0(A0_169)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 1 or GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
    StartEmitters("potw_zonem_rails.WallBlowOutParticle")
    Unhide("potw_zonem_rails.WallBlowOutParticle")
    AudioPostEventOn("potw_zonem_rails.StaticBreakable 01", "Play_sfx_wall_destroyed")
    Hide("potw_zonem_rails.StaticBreakable 01")
    HideHud()
    RestrictCutSceneInput()
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right Wall")
    SSCutSceneCam = false
    wait(0.1)
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) 22")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    wait(3)
    StopEmitters("potw_zonem_rails.WallBlowOutParticle")
    IS_WALL_BLOWN = true
    Enable("potw_zonem_rails.Trigger Complete Camera")
    Enable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete Screen")
    Enable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete StickShift")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 01")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 02")
    Enable("potw_zonem_rails.PlaneTrigger_CameraOverride Screen")
    Enable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right Wall")
    SetCameraAttributes("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete StickShift")
    UnrestrictCutSceneInput()
    ShowHud()
  else
    StartEmitters("potw_zonem_rails.WallBlowOutParticle")
    Unhide("potw_zonem_rails.WallBlowOutParticle")
    AudioPostEventOn("potw_zonem_rails.StaticBreakable 01", "Play_sfx_wall_destroyed")
    Hide("potw_zonem_rails.StaticBreakable 01")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
    Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    wait(3)
    StopEmitters("potw_zonem_rails.WallBlowOutParticle")
    IS_WALL_BLOWN = true
  end
end
PoTW_WallExplode = L0_0
function L0_0(A0_170, A1_171, A2_172, A3_173)
  if IS_PLANK_EXTENDED == false then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) 05")
    AudioPostEventOn(RAIL_HOOK, "Stop_hook_track_spin_loop")
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 11", "spinnegative")
    AnimEvent(RAIL_HOOK, "EVENT_Special_3")
    PoTW_ExtendPlank(A1_171, A2_172, 2.2)
    AudioPostEventOn("potw_zonem_rails.TempPlatA1 12", "Play_sfx_plank_mvmt_loop")
    AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Play_sfx_gate_mvmt_loop")
    wait(2.5)
    AudioPostEventOn("potw_zonem_rails.TempPlatA1 12", "Stop_sfx_plank_mvmt_loop")
    AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Stop_sfx_gate_mvmt_loop")
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 11", "stopnegative")
    AnimEvent(RAIL_HOOK, "EVENT_Special_4")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    wait(1)
    PoTW_HookExitScene(nil, 30)
    StartEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 01")
    Hide("potw_zonem_rails.DynamicParentableRotator 11")
    Unhide("potw_zonem_rails.Broken Cog 01")
    PotW_OpenAndCloseGrateCrankOut(nil, A3_173, 0, 2)
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 01")
    Hide("potw_zonem_rails.ParticleScriptable Cog Destroy 01")
    Unhide("potw_zonem_rails.Static_PlankWalls")
    COG_1_BROKEN = true
  else
    PoTW_HookSplatLeftCog(nil, "potw_zonem_rails.TempPlatA1 03")
  end
end
PotW_CrankOutPlank = L0_0
function L0_0(A0_174, A1_175, A2_176)
  if IS_SLIDER_EXTENDED == false then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AudioPostEventOn(RAIL_HOOK, "Stop_hook_track_spin_loop")
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 09", "spin")
    AnimEvent(RAIL_HOOK, "EVENT_SlotSpin")
    Enable(A1_175)
    PotW_ExtendSlider(A1_175, 1.7)
    wait(2)
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 09", "stop_cog")
    AnimEvent(RAIL_HOOK, "EVENT_SlotSpinStop")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    wait(1)
    PotW_OpenAndCloseGrate(nil, A2_176, 0, 2)
    StartEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 02")
    Hide("potw_zonem_rails.DynamicParentableRotator 09")
    Unhide("potw_zonem_rails.Broken Cog 02")
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 02")
    Hide("potw_zonem_rails.ParticleScriptable Cog Destroy 02")
    COG_2_BROKEN = true
  else
    PoTW_HookSplatMiddleCog(nil, "potw_zonem_rails.TempPlatA1 02")
  end
end
PotW_CrankOutSlider = L0_0
function L0_0(A0_177, A1_178, A2_179)
  if GetGlobal("PoTW_ZoneM_WallCranked") == 0 then
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    AudioPostEventOn(RAIL_HOOK, "Stop_hook_track_spin_loop")
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 18", "spinnegative")
    AnimEvent(RAIL_HOOK, "EVENT_Special_3")
    Enable(A1_178)
    StartRotateToPosition(A1_178, -180)
    AudioPostEventOn(A1_178, "Play_sfx_door_rotate_loop")
    wait(3.5)
    AnimGBSequence("potw_zonem_rails.DynamicParentableRotator 18", "stopnegative")
    AnimEvent(RAIL_HOOK, "EVENT_Special_4")
    AudioPostEventOn(A1_178, "Stop_sfx_door_rotate_loop")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    wait(1)
    PotW_OpenAndCloseGrate(nil, A2_179, 0, 2)
    StartEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 03")
    Hide("potw_zonem_rails.DynamicParentableRotator 18")
    Unhide("potw_zonem_rails.Broken Cog 03")
    wait(2)
    StopEmitters("potw_zonem_rails.ParticleScriptable Cog Destroy 03")
    Hide("potw_zonem_rails.ParticleScriptable Cog Destroy 03")
    SetGlobal("PoTW_ZoneM_WallCranked", 1)
  else
    PoTW_HookSplatRightCog(nil, "potw_zonem_rails.TempPlatA1 04")
  end
end
PoTW_CrankOutWall = L0_0
function L0_0(A0_180, A1_181, A2_182, A3_183)
  local L4_184
  if tonumber(A2_182) < 0.5 then
    L4_184 = 90
  elseif tonumber(A2_182) > 0.5 then
    L4_184 = -90
  end
  Enable(A1_181)
  SetRotatorMaxSpeed(A1_181, 500)
  StartRotateToPosition(A1_181, L4_184)
  PoTW_HookExitScene(nil, 30)
  wait(A3_183)
  StartRotateToPosition(A1_181, 0)
  wait(2)
  StopRotateToPosition(A1_181, 0)
  Disable(A1_181)
end
PotW_OpenAndCloseGrate = L0_0
function L0_0(A0_185, A1_186, A2_187, A3_188)
  local L4_189
  if tonumber(A2_187) < 0.5 then
    L4_189 = 90
  elseif tonumber(A2_187) > 0.5 then
    L4_189 = -90
  end
  Enable(A1_186)
  SetRotatorMaxSpeed(A1_186, 500)
  StartRotateToPosition(A1_186, L4_189)
  wait(A3_188)
  StartRotateToPosition(A1_186, 0)
  wait(2)
  StopRotateToPosition(A1_186, 0)
  Disable(A1_186)
end
PotW_OpenAndCloseGrateCrankOut = L0_0
function L0_0(A0_190, A1_191, A2_192)
  local L3_193
  if tonumber(A2_192) < 0.5 then
    L3_193 = 90
  elseif tonumber(A2_192) > 0.5 then
    L3_193 = -90
  end
  Enable(A1_191)
  SetRotatorMaxSpeed(A1_191, 500)
  StartRotateToPosition(A1_191, L3_193)
end
PotW_OpenGrateIntro = L0_0
function L0_0(A0_194, A1_195)
  local L2_196
  StartRotateToPosition(A1_195, 0)
  wait(2)
  Disable(A1_195)
end
PotW_CloseGrateIntro = L0_0
function L0_0()
  local L0_197, L1_198, L2_199, L3_200, L4_201, L5_202
  L0_197 = 0.5
  L1_198 = 3
  L2_199 = 0.05
  L3_200 = 2
  L4_201 = 0.1
  L5_202 = 0.001
  ShakeCamera(L0_197, L1_198, L2_199, L3_200, L4_201, L5_202)
end
PoTW_CameraShake = L0_0
function L0_0(A0_203, A1_204, A2_205)
  Enable(A1_204)
  Enable(A2_205)
  SetRotatorMaxSpeed(A1_204, 200)
  SetRotatorMaxSpeed(A2_205, 200)
  StartRotateToPosition(A1_204, 90)
  StartRotateToPosition(A2_205, -90)
end
PotW_OpenBarrelDoors = L0_0
function L0_0(A0_206, A1_207, A2_208)
  StartRotateToPosition(A1_207, 0)
  StartRotateToPosition(A2_208, 0)
end
PotW_CloseBarrelDoors = L0_0
function L0_0(A0_209, A1_210, A2_211, A3_212)
  SetSplineFollowerInitialSpeed(A1_210, 2)
  SplineFollower_StopAtPosition(A1_210, "potw_zonem_rails.SplineKnot 09", "potw_zonem_rails.SplineKnot 46", 1)
  Enable(A3_212)
  StartRotateToPosition(A3_212, 110)
  PoTW_OpenGate(nil, A2_211)
end
PoTW_InitialPlankandGate = L0_0
function L0_0(A0_213, A1_214, A2_215)
  if not IS_PLANK_EXTENDED then
    if GetPropertyBool(A0_213, "Is Painted") then
      Enable(A0_213)
      SetReversed(A0_213, 0)
      SetSplineFollowerInitialSpeed(A0_213, A2_215)
      PoTW_OpenGate(nil, A1_214)
      SplineKnotComponent_SetBranchProbability("potw_zonem_rails.SplineKnot 154", 1)
      SetPropertyBool(A0_213, "Is Real", true)
      IS_PLANK_EXTENDED = true
      READY_FOR_PHASE_CHANGE = true
    else
      ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_PaintPlank")
    end
  end
end
PoTW_ExtendPlank = L0_0
function L0_0(A0_216, A1_217)
  SetSplineFollowerInitialSpeed(A1_217, 3.2)
  SplineFollower_StopAtPosition(A1_217, "potw_zonem_rails.SplineKnot 89", "potw_zonem_rails.SplineKnot 90", 1)
end
PoTW_OpenGate = L0_0
function L0_0()
  SetReversed("potw_zonem_rails.DynamicRotatorSplineFollower 01", 1)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.DynamicRotatorSplineFollower 01", 3.2)
  AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Play_sfx_gate_mvmt_loop")
  SplineFollower_StopAtPosition("potw_zonem_rails.DynamicRotatorSplineFollower 01", "potw_zonem_rails.SplineKnot 90", "potw_zonem_rails.SplineKnot 89", 1)
end
PoTW_CloseGate = L0_0
function L0_0(A0_218)
  if GATE_OPEN == false then
    GATE_OPEN = true
    AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Stop_sfx_gate_mvmt_loop")
  else
    GATE_OPEN = false
    GATE_OPEN = false
    AudioPostEventOn("potw_zonem_rails.DynamicRotatorSplineFollower 01", "Stop_sfx_gate_mvmt_loop")
  end
end
PoTW_GateAudioStop = L0_0
function L0_0(A0_219, A1_220)
  if IS_SLIDER_EXTENDED == false then
    SetSplineFollowerInitialSpeed(A0_219, A1_220)
    IS_SLIDER_EXTENDED = true
    READY_FOR_PHASE_CHANGE = true
  end
end
PotW_ExtendSlider = L0_0
function L0_0(A0_221, A1_222)
  AnimEvent(AI_HOOK, "EVENT_GoToSleep")
  AIHOOKENABLED = false
  OnPlank = tonumber(A1_222)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  AnimEvent(RAIL_HOOK, "EVENT_Balance")
  StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
  Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
  wait(1)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook10")
  Hide("potw_zonem_rails.Static_PlankCollision")
  wait(2)
  StartFadeOut(1.5)
  wait(1.5)
  AnimEvent(RAIL_HOOK, "EVENT_Balance")
  AnimEvent(AI_HOOK, "EVENT_Balance")
  MoveToEntity(AI_HOOK, "potw_zonem_rails.SplineKnot 25")
  Hide(RAIL_HOOK)
  Unhide(AI_HOOK)
  Hide(AI_SWORD)
  TeleportToEntity(GetPlayer(), "potw_zonem_rails.SplineKnot 154")
  ClearAllCameraAttributesTimedSD(GetPlayer(), 0.1)
  ClearCameraHintAll(GetPlayer())
  wait(0.2)
  SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Hook On Plank")
  UnrestrictCutSceneInput()
  StartFadeIn(1.5)
  wait(2.5)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_ThinPlank")
end
PoTW_SetOnPlank = L0_0
function L0_0(A0_223)
  if OnPlank == 1 then
    AnimEvent(AI_HOOK, "EVENT_SpinStart")
    AnimEvent(RAIL_HOOK, "EVENT_SpinStart")
    StartFadeOut(1)
    wait(1)
    Unhide(RAIL_HOOK)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
    Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
    wait(0.1)
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent AI Impact")
    CameraReset()
    wait(0.5)
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 5)
  end
end
PoTW_FinalHit = L0_0
function L0_0(A0_224)
  local L1_225
  L1_225 = SetSplineFollowerInitialSpeed
  L1_225(RAIL_HOOK, 0)
  L1_225 = AudioPostEventOn
  L1_225(RAIL_HOOK, "Stop_hook_track_spin_loop")
  L1_225 = StopEmitters
  L1_225("potw_zonem_rails.ParticleScriptableWithParent Spin")
  L1_225 = Hide
  L1_225("potw_zonem_rails.ParticleScriptableWithParent Spin")
  L1_225 = Hide
  L1_225("potw_zonem_rails.Static_PlankCollision")
  L1_225 = AnimEvent
  L1_225(AI_HOOK, "EVENT_GoToSleep")
  L1_225 = false
  AIHOOKENABLED = L1_225
  L1_225 = AnimEvent
  L1_225(RAIL_HOOK, "EVENT_Balance")
  L1_225 = wait
  L1_225(1)
  L1_225 = AnimEvent
  L1_225(RAIL_HOOK, "EVENT_Falling")
  L1_225 = wait
  L1_225(0.5)
  L1_225 = SetSplineFollowerInitialSpeed
  L1_225(RAIL_HOOK, 15)
  L1_225 = wait
  L1_225(0.5)
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 01")
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 02")
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 03")
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 04")
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 05")
  L1_225 = Hide
  L1_225("potw_zonem_intro.WaveSplineFollower 06")
  L1_225 = Hide
  L1_225("potw_zonem_intro.Trigger Croc")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 01")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 02")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 03")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 04")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 05")
  L1_225 = Disable
  L1_225("potw_zonem_intro.WaveSplineFollower 06")
  L1_225 = Disable
  L1_225("potw_zonem_intro.Trigger Croc")
  L1_225 = Hide
  L1_225("potw_zonem_rails.AnimatronicTicTocCroc 02")
  L1_225 = Unhide
  L1_225("potw_zonem_intro.AnimatronicTicTocCroc 01")
  L1_225 = DisableMotion
  L1_225("potw_zonem_intro.AnimatronicTicTocCroc 01")
  L1_225 = DisableMotion
  L1_225(RAIL_HOOK)
  L1_225 = DisableMotion
  L1_225(RAIL_CLOTHES)
  L1_225 = SplineFollower_TeleportToKnot
  L1_225("potw_zonem_intro.AnimatronicTicTocCroc 01", "potw_zonem_rails.SplineKnot 02 Tic Toc 01")
  L1_225 = SetSplineFollowerInitialSpeed
  L1_225("potw_zonem_intro.AnimatronicTicTocCroc 01", 0)
  L1_225 = SplineFollower_TeleportToKnot
  L1_225("potw_zonem.DamagableDynamicSplineFollower 01", "potw_zonem.SplineKnot(Parentable) 16")
  L1_225 = SetSplineFollowerInitialSpeed
  L1_225("potw_zonem.DamagableDynamicSplineFollower 01", 0)
  L1_225 = Disable
  L1_225("potw_zonem.DamagableDynamicSplineFollower 01")
  L1_225 = SetPropertyString
  L1_225("potw_zonem_intro.AnimatronicTicTocCroc 01", "Orientation Type", "DoNotReorient")
  L1_225 = vector4
  L1_225 = L1_225(0, 0, 0, 0)
  SetFacing("potw_zonem_intro.AnimatronicTicTocCroc 01", L1_225)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
  SplineFollower_TeleportToKnot(RAIL_HOOK, "potw_zonem_rails.SplineKnot 95")
  StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
  Hide("potw_zonem_rails.ParticleScriptableWithParent Spin")
  TeleportToEntity("potw_zonem_rails.KillHook Camera", "potw_zonem_rails.PositionMarker Croc Outro IGC")
  OnPlank = 0
  GrabCameraNif("potw_zonem_rails.KillHook Camera", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("potw_zonem_rails.KillHook Camera")
  AnimGBSequence("potw_zonem_rails.KillHook Camera", "camera")
  EnterCutscene(RAIL_HOOK, 91)
  EnterCutscene("potw_zonem_intro.AnimatronicTicTocCroc 01", 1)
  FireSequence("potw_zonem_rails.Marker(Conversation) 02", "PoTW_ZM_Hook11")
  AudioPostEventOn("potw_zonem_intro.AnimatronicTicTocCroc 01", "Play_sfx_Hook_IGC_hook_croc_fight")
  wait(2.1)
  StartEmitters("potw_zonem_intro.ParticleScriptable Croc Wave")
  wait(2)
  StopEmitters("potw_zonem_intro.ParticleScriptable Croc Wave")
  wait(8.9)
  AudioSetState(GetPlayer(), "Music_State", "Exploration")
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_HookWalkedPlank")
  SetGlobal("MS_petepanresolution", 0)
  wait(1.2)
  Hide(SAILS_HOOK)
  Disable(SAILS_HOOK)
  Hide(AI_CLOTHES)
  Hide(AI_HOOK)
  Hide(AI_SWORD)
  Disable("potw_zonem.Marker(SplineFollower) 04")
  Hide("potw_zonem.TempPlatA1 01")
  Hide("potw_zonem.DynamicSplineFollower 06")
  Disable(AI_HOOK)
  Disable(RAIL_HOOK)
  SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  SetGlobal("PoTW_ZoneM_HookOffPlank", 1)
  Unhide("potw_zonem_rails.Static_PlankCollision")
end
PoTW_KillHook = L0_0
function L0_0()
  StartFadeOut(1)
  wait(1)
  CameraReset()
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  PoTW_BallastDroponHookDeath()
  PoTW_HideRailParticles()
  wait(4)
  UnrestrictCutSceneInput()
  PotW_LevelEndSequence()
end
PoTW_KillHookEnd = L0_0
function L0_0()
  TeleportToEntity("potw_zonem_rails.DestroyHook Camera", RAIL_HOOK)
  GrabCameraNif("potw_zonem_rails.DestroyHook Camera", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("potw_zonem_rails.DestroyHook Camera")
  AnimGBSequence("potw_zonem_rails.DestroyHook Camera", "camera")
  EnterCutscene(RAIL_HOOK, 90)
  AudioSetState(GetPlayer(), "Music_State", "Exploration2")
  AudioPostEventOn(GetPlayer(), "Play_sfx_Hook_IGC_fall_apart")
  wait(10)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_KilledHook")
  wait(8)
  SetCameraAttributes("potw_zonem_rails.Hook_StickShift Cutscene Settings")
  SSCutSceneCam = true
  SetGlobal("MS_petepanresolution", 0)
  SetGlobal("PoTW_ZoneM_HookIsDead", 1)
  Disable("potw_zonem.Marker(SplineFollower) 04")
  Hide("potw_zonem.TempPlatA1 01")
  AnimEvent(AI_HOOK, "EVENT_GoToSleep")
  AIHOOKENABLED = false
  Hide(AI_HOOK)
  Hide(AI_CLOTHES)
  Hide(AI_SWORD)
  Hide(RAIL_CLOTHES_WEAPON)
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Hide(SAILS_HOOK)
  PoTW_BallastDroponHookDeath()
  StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Death")
  wait(0.1)
  Unhide("potw_zonem_rails.ParticleScriptableWithParent Death")
  wait(2.5)
  PoTW_HideRailParticles()
  wait(3)
  UnrestrictCutSceneInput()
  PotW_LevelEndSequence()
end
PotW_DestroyHook = L0_0
function L0_0()
  Disable("potw_zonem.TriggerDamageVolume PushOut 01")
  Disable("potw_zonem.TriggerDamageVolume PushOut 02")
  Disable("potw_zonem.TriggerDamageVolume PushOut 03")
  if GetGlobal("PoTW_ZoneM_StickShiftIntroduced") == 0 then
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Disable("potw_zonem_rails.Trigger Close Camera")
    Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
    Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
    Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    if IS_WALL_BLOWN == true then
      Enable("potw_zonem_rails.PlaneTrigger Secret Room")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 2")
      Enable("potw_zonem_rails.PlaneTrigger Secret Room 3")
    end
    if SSCutSceneCam == false then
      SetCameraAttributes("potw_zonem_rails.Hook_StickShift Cutscene Settings")
      SSCutSceneCam = true
    end
    wait(1)
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    PotW_SpawnStickShift()
  else
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 37")
    TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
    Enable("potw_zonem_rails.Door_Aft")
    wait(0.5)
    SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
    Hide("potw_zonem_rails.Static_StickShift")
    Unhide("SteamboatChest")
    SetPropertyFloat("SteamboatChest", "UsableRadius", 2)
    Enable("potw_zonem.PlaneTrigger 01")
    Enable("potw_zonem.PlaneTrigger 02")
    Enable("potw_zonem.PlaneTrigger 03")
    Enable("potw_zonem.PlaneTrigger 05")
    Enable("potw_zonem.PlaneTrigger 07")
    Enable("potw_zonem.PlaneTrigger 10")
    Enable("potw_zonem.PlaneTrigger 11")
    Enable("potw_zonem.PlaneTrigger 12")
    Enable("potw_zonem.PlaneTrigger 13")
    Enable("potw_zonem.PlaneTrigger 14")
    Enable("potw_zonem.PlaneTrigger 15")
    Enable("potw_zonem.PlaneTrigger 17")
    Enable("potw_zonem.PlaneTrigger 18")
    Enable("potw_zonem.PlaneTrigger 19")
    Enable("potw_zonem.PlaneTrigger 20")
    Enable("potw_zonem.PlaneTrigger 21")
    Enable("potw_zonem.PlaneTrigger 23")
    Enable("potw_zonem.PlaneTrigger 24")
    Enable("potw_zonem.PlaneTrigger 25")
    Enable("potw_zonem.PlaneTrigger 26")
    Enable("potw_zonem.Trigger 01")
    Enable("potw_zonem.Trigger 02")
    Enable("potw_zonem.Trigger 03")
    Enable("potw_zonem.Trigger 04")
    Enable("potw_zonem.Trigger 05")
    Enable("potw_zonem.Trigger 06")
    Enable("potw_zonem.Trigger 07")
    Enable("potw_zonem.Trigger 08")
    Enable("potw_zonem.Trigger 09")
    Enable("potw_zonem.Trigger 10")
    Enable("potw_zonem.Trigger 12")
    Enable("potw_zonem.Trigger 13")
    Enable("potw_zonem.Trigger 14")
    Enable("potw_zonem.Trigger 15")
    Enable("potw_zonem.Trigger 17")
    Enable("potw_zonem.Trigger 18")
    Enable("potw_zonem.Trigger 21")
    Enable("potw_zonem.Trigger 22")
    Enable("potw_zonem.Trigger 23")
    Enable("potw_zonem.Trigger 27")
    Enable("potw_zonem.Trigger 28")
    Enable("potw_zonem.Trigger 30")
    Enable("potw_zonem.Trigger 31")
    Enable("potw_zonem_intro.PlaneTrigger 01")
    Enable("potw_zonem_intro.PlaneTrigger 02")
    Enable("potw_zonem_intro.PlaneTrigger 03")
    Enable("potw_zonem_intro.PlaneTrigger 04")
    Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 01")
    Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 02")
    Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 03")
    Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 05")
    Enable("potw_zonem_intro.Trigger 11")
    Enable("potw_zonem_intro.Trigger MapLoadorStream")
    Enable("potw_zonem_intro.Trigger_CameraOverride 01")
    Enable("potw_zonem_intro.Trigger_CameraOverride 02")
    Enable("potw_zonem_intro.Trigger_CameraOverride 03")
    Enable("potw_zonem_intro.Trigger_CameraOverride 04")
    Enable("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
    PoTW_DeckGameplayCameraNormal(nil)
    SetLetterbox(0)
    StartFadeIn(1)
    wait(1)
    ShowHud()
    UnrestrictCutSceneInput()
  end
end
PotW_LevelEndSequence = L0_0
function L0_0()
  RestrictCutSceneInput()
  Enable("potw_zonem_rails.Door_Aft")
  wait(0.5)
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Aft", 15)
  Hide("potw_zonem_rails.Static_StickShift")
  Unhide("SteamboatChest")
  SetPropertyFloat("SteamboatChest", "UsableRadius", 2)
  TeleportToEntity("potw_zonem.Gremlin_Gus 01", "potw_zonem_igc.PositionMarker Destroy Right Cog")
  StartFadeInNoHUD(1)
  wait(1)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_StickShift")
  wait(3)
  SetGlobal("PoTW_ZoneM_StickShiftIntroduced", 1)
  StartFadeOut(1)
  wait(1)
  SetGlobal("PaintUpgrade_Hook", 1)
  Wait(0.1)
  FireSequence("potw_zonem.Gremlin_Gus 01", "Gus_IncreasedAmmo")
  DoStinger("Stinger_Success", 7)
  TeleportToEntity(GetPlayer(), "potw_zonem_igc.Upgrade_PositionMarkerMickey 01")
end
PotW_SpawnStickShift = L0_0
function L0_0(A0_226)
  StartFadeOut(0.3)
  wait(0.3)
  ClearCutSceneStack()
  RestrictCutSceneInput()
  HideHud()
  Disable("potw_zonem_rails.Trigger Complete Camera")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete StickShift")
  Disable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift")
  Disable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 01")
  Disable("potw_zonem_rails.PlaneTrigger_CameraOverride StickShift 02")
  Enable("potw_zonem_rails.PlaneTrigger_CameraOverride Screen")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Complete Screen")
  SetCameraAttributes("potw_zonem_rails.Hook_ScreenCam CutScene Settings")
  TeleportToEntity(GetPlayer(), "potw_zonem.RailsWatchPointA 01")
  Prefab_Projector_ChangeState("HookProjector", "Activate")
  wait(2)
  SetLetterbox(1)
  StartFadeIn(1)
  wait(1.5)
  Enable("potw_zonem_rails.Door_Fore")
  Unhide("PoTW_ZoneM_Projector")
  Enable("PoTW_ZoneM_Projector")
  SetSplineFollowerInitialSpeed("potw_zonem_rails.Door_Fore", 15)
  AudioPostEventOn("potw_zonem_rails.Door_Fore", "Play_sfx_projector_door_mvmt_loop")
  wait(1)
  ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_Screen")
  wait(2)
  PoTW_DeckGameplayCameraNormal(nil)
  SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) Gameplay Complete")
  UnrestrictCutSceneInput()
  SetLetterbox(0)
  ShowHud()
end
PotW_RevealScreen = L0_0
function L0_0()
  Hide(AI_HOOK)
  Hide(AI_CLOTHES)
  Hide(AI_SWORD)
  Hide(RAIL_HOOK)
  Hide(RAIL_CLOTHES)
  Hide(RAIL_CLOTHES_WEAPON)
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Unhide(COLLISION_BARREL1)
  Unhide(COLLISION_BARREL2)
  Unhide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
end
PoTW_HideHooksAndBarrels = L0_0
function L0_0(A0_227)
  if tonumber(A0_227) == 1 and IS_ALIVE_BARREL1 then
    return true
  elseif tonumber(A0_227) == 2 and IS_ALIVE_BARREL2 then
    return true
  elseif tonumber(A0_227) == 3 and IS_ALIVE_BARREL3 then
    return true
  end
  return false
end
PotW_IsBarrelAlive = L0_0
function L0_0()
  local L0_228
  L0_228 = 0
  if IS_IN_PLAY_BARREL1 and IS_ALIVE_BARREL1 then
    L0_228 = L0_228 + 1
  end
  if IS_IN_PLAY_BARREL2 and IS_ALIVE_BARREL2 then
    L0_228 = L0_228 + 1
  end
  if IS_IN_PLAY_BARREL3 and IS_ALIVE_BARREL3 then
    L0_228 = L0_228 + 1
  end
  if L0_228 == 1 then
    AnimEvent(AI_HOOK, "EVENT_HookInLastBarrel")
  else
    AnimEvent(AI_HOOK, "EVENT_HookNotInLastBarrel")
  end
end
PotW_CheckIsHookInLastBarrel = L0_0
function L0_0()
  PotW_OpenAllBarrelDoors()
  wait(0.5)
  if IS_IN_PLAY_BARREL1 then
    IS_ALIVE_BARREL1 = true
    Hide(COLLISION_BARREL1)
    Enable("potw_zonem_rails.Trigger Barrel KnockBack 01")
    wait(0.2)
    Unhide(NAME_BARREL1)
    Hide(COLLISION_BARREL1)
    ForcePainted(COLLISION_BARREL1)
    AnimEvent(NAME_BARREL1, "EVENT_BarrelSpinUp")
    Disable("potw_zonem_rails.Trigger Barrel KnockBack 01")
    Unhide(COLLISION_BARREL1)
  end
  if IS_IN_PLAY_BARREL2 then
    IS_ALIVE_BARREL2 = true
    Hide(COLLISION_BARREL2)
    Enable("potw_zonem_rails.Trigger Barrel KnockBack 02")
    wait(0.2)
    Unhide(NAME_BARREL2)
    Hide(COLLISION_BARREL2)
    ForcePainted(COLLISION_BARREL2)
    AnimEvent(NAME_BARREL2, "EVENT_BarrelSpinUp")
    Disable("potw_zonem_rails.Trigger Barrel KnockBack 02")
    Unhide(COLLISION_BARREL2)
  end
  if IS_IN_PLAY_BARREL3 then
    IS_ALIVE_BARREL3 = true
    Hide(COLLISION_BARREL3)
    Enable("potw_zonem_rails.Trigger Barrel KnockBack 03")
    wait(0.2)
    Unhide(NAME_BARREL3)
    Hide(COLLISION_BARREL3)
    ForcePainted(COLLISION_BARREL3)
    AnimEvent(NAME_BARREL3, "EVENT_BarrelSpinUp")
    Disable("potw_zonem_rails.Trigger Barrel KnockBack 03")
    Unhide(COLLISION_BARREL3)
  end
  PotW_CheckIsHookInLastBarrel()
  wait(0.5)
  PotW_CloseAllBarrelDoors()
end
PotW_ResetBarrels = L0_0
function L0_0()
  if IS_IN_PLAY_BARREL1 then
    PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  end
  if IS_IN_PLAY_BARREL2 then
    PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  end
  if IS_IN_PLAY_BARREL3 then
    PotW_OpenBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  end
end
PotW_OpenAllBarrelDoors = L0_0
function L0_0()
  if IS_IN_PLAY_BARREL1 then
    PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 09", "potw_zonem_rails.TempPlatA1 10")
  end
  if IS_IN_PLAY_BARREL2 then
    PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 07", "potw_zonem_rails.TempPlatA1 08")
  end
  if IS_IN_PLAY_BARREL3 then
    PotW_CloseBarrelDoors(nil, "potw_zonem_rails.TempPlatA1 06", "potw_zonem_rails.TempPlatA1 05")
  end
end
PotW_CloseAllBarrelDoors = L0_0
function L0_0()
  if IS_ALIVE_BARREL1 and IS_ALIVE_BARREL2 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) and GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 1
    elseif GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 2
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 and IS_ALIVE_BARREL2 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) then
      return 1
    else
      return 2
    end
  elseif IS_ALIVE_BARREL2 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 2
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) < GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 1
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 then
    return 1
  elseif IS_ALIVE_BARREL2 then
    return 2
  elseif IS_ALIVE_BARREL3 then
    return 3
  end
  return 0
end
PotW_PickBarrelNearestMickey = L0_0
function L0_0()
  if IS_ALIVE_BARREL1 and IS_ALIVE_BARREL2 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) and GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 1
    elseif GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 2
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 and IS_ALIVE_BARREL2 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) then
      return 1
    else
      return 2
    end
  elseif IS_ALIVE_BARREL2 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL2) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 2
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 and IS_ALIVE_BARREL3 then
    if GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL1) > GetDistanceBetweenEntities(GetPlayer(), NAME_BARREL3) then
      return 1
    else
      return 3
    end
  elseif IS_ALIVE_BARREL1 then
    return 1
  elseif IS_ALIVE_BARREL2 then
    return 2
  elseif IS_ALIVE_BARREL3 then
    return 3
  end
  return 0
end
PotW_PickBarrelFarthestMickey = L0_0
function L0_0()
  local L0_229
  L0_229 = 0
  if IS_ALIVE_BARREL1 then
    L0_229 = L0_229 + 1
  end
  if IS_ALIVE_BARREL2 then
    L0_229 = L0_229 + 1
  end
  if IS_ALIVE_BARREL3 then
    L0_229 = L0_229 + 1
  end
  if L0_229 == 3 then
    if PotW_PickBarrelNearestMickey() + PotW_PickBarrelFarthestMickey() == 3 then
      return 3
    elseif PotW_PickBarrelNearestMickey() + PotW_PickBarrelFarthestMickey() == 4 then
      return 2
    elseif PotW_PickBarrelNearestMickey() + PotW_PickBarrelFarthestMickey() == 5 then
      return 1
    end
  elseif L0_229 == 2 then
    return PotW_PickBarrelFarthestMickey()
  elseif L0_229 == 1 then
    return PotW_PickBarrelFarthestMickey()
  end
  return 0
end
PotW_PickBarrelNextFarthestMickey = L0_0
function L0_0()
  if BARREL == 1 then
    if IS_ALIVE_BARREL2 and IS_ALIVE_BARREL3 then
      if math.random(1, 2) == 1 then
        return 2
      else
        return 3
      end
    elseif IS_ALIVE_BARREL2 then
      return 2
    elseif IS_ALIVE_BARREL3 then
      return 3
    end
  elseif BARREL == 2 then
    if IS_ALIVE_BARREL1 and IS_ALIVE_BARREL3 then
      if math.random(1, 2) == 1 then
        return 1
      else
        return 3
      end
    elseif IS_ALIVE_BARREL1 then
      return 1
    elseif IS_ALIVE_BARREL3 then
      return 3
    end
  elseif BARREL == 3 then
    if IS_ALIVE_BARREL1 and IS_ALIVE_BARREL2 then
      if math.random(1, 2) == 1 then
        return 1
      else
        return 2
      end
    elseif IS_ALIVE_BARREL1 then
      return 1
    elseif IS_ALIVE_BARREL2 then
      return 2
    end
  end
  return 0
end
PotW_PickRandomBarrel = L0_0
function L0_0()
  local L0_230, L1_231
  L0_230 = BARREL
  if L0_230 == 0 then
    L0_230 = 1
    return L0_230
  else
    L0_230 = BARREL
    if L0_230 == 1 then
      L0_230 = IS_ALIVE_BARREL2
      if L0_230 then
        L0_230 = 2
        return L0_230
      else
        L0_230 = IS_ALIVE_BARREL3
        if L0_230 then
          L0_230 = 3
          return L0_230
        end
      end
    else
      L0_230 = BARREL
      if L0_230 == 2 then
        L0_230 = IS_ALIVE_BARREL3
        if L0_230 then
          L0_230 = 3
          return L0_230
        else
          L0_230 = IS_ALIVE_BARREL1
          if L0_230 then
            L0_230 = 1
            return L0_230
          end
        end
      else
        L0_230 = BARREL
        if L0_230 == 3 then
          L0_230 = IS_ALIVE_BARREL1
          if L0_230 then
            L0_230 = 1
            return L0_230
          else
            L0_230 = IS_ALIVE_BARREL2
            if L0_230 then
              L0_230 = 2
              return L0_230
            end
          end
        end
      end
    end
  end
  L0_230 = 0
  return L0_230
end
PotW_PickSequentialBarrel = L0_0
function L0_0(A0_232)
  if tonumber(A0_232) > 0 and tonumber(A0_232) ~= BARREL and PotW_IsBarrelAlive(A0_232) then
    SetPropertyInt(AI_CLOTHES, "Collision Layer", 13)
    AnimEvent(AI_HOOK, "EVENT_DoPopDown")
    AnimEvent(BARREL_NAME, "EVENT_PopDown")
    PoTW_HideRailParticles()
    wait(0.66)
    ForcePainted(AI_CLOTHES)
    if tonumber(A0_232) == 1 then
      BARREL = 1
      BARREL_NAME = NAME_BARREL1
      BARREL_COLLISION_NAME = COLLISION_BARREL1
      WARPKNOT_NAME = NAME_WARPKNOT1
      PotW_Barrel1Particles()
    elseif tonumber(A0_232) == 2 then
      BARREL = 2
      BARREL_NAME = NAME_BARREL2
      BARREL_COLLISION_NAME = COLLISION_BARREL2
      WARPKNOT_NAME = NAME_WARPKNOT2
      PotW_Barrel2Particles()
    elseif tonumber(A0_232) == 3 then
      BARREL = 3
      BARREL_NAME = NAME_BARREL3
      BARREL_COLLISION_NAME = COLLISION_BARREL3
      WARPKNOT_NAME = NAME_WARPKNOT3
      PotW_Barrel3Particles()
    end
    SplineFollower_TeleportToKnot(RAIL_HOOK, GetEntity(WARPKNOT_NAME))
    MoveToEntity(AI_HOOK, WARPKNOT_NAME)
    PotW_SwitchToAIHook()
  end
end
PotW_EnterBarrel = L0_0
function L0_0()
  ForEachEntityInGroup(Hide, PARTICLE_GROUP1)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP2)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP3)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP4)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP5)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP6)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP7)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP8)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP9)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP10)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP11)
  ForEachEntityInGroup(Hide, PARTICLE_GROUP12)
end
PoTW_HideRailParticles = L0_0
function L0_0()
  if not GEAR2_CRANKED then
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP9)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP2)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP1)
  else
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP9)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP2)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP1)
  end
end
PotW_Barrel1Particles = L0_0
function L0_0()
  if not GEAR3a_CRANKED and IS_SLIDER_EXTENDED == true then
    ForEachEntityInGroup(Hide, PARTICLE_GROUP4)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP3)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP5)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP10)
  elseif not GEAR3a_CRANKED and IS_SLIDER_EXTENDED == false then
    ForEachEntityInGroup(Hide, PARTICLE_GROUP4)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP3)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP5)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP10)
  elseif GEAR3a_CRANKED then
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP4)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP3)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP5)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP10)
  end
end
PotW_Barrel2Particles = L0_0
function L0_0()
  if not GEAR1_CRANKED then
    ForEachEntityInGroup(Hide, PARTICLE_GROUP7)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP8)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP6)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP11)
  elseif GEAR1_CRANKED and not GEAR3_CRANKED then
    ForEachEntityInGroup(Hide, PARTICLE_GROUP6)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP7)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP8)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP11)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP12)
  elseif GEAR1_CRANKED and GEAR3_CRANKED then
    ForEachEntityInGroup(Hide, PARTICLE_GROUP6)
    ForEachEntityInGroup(Hide, PARTICLE_GROUP7)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP8)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP11)
    ForEachEntityInGroup(Unhide, PARTICLE_GROUP12)
  end
end
PotW_Barrel3Particles = L0_0
function L0_0(A0_233, A1_234)
  PoTW_HideHooksAndBarrels()
  HOOK_PHASE = HOOK_START_PHASE
  if HOOK_PHASE == 1 then
    IS_IN_PLAY_BARREL1 = PHASE1_BARREL1
    IS_IN_PLAY_BARREL2 = PHASE1_BARREL2
    IS_IN_PLAY_BARREL3 = PHASE1_BARREL3
  elseif HOOK_PHASE == 2 then
    IS_IN_PLAY_BARREL1 = PHASE2_BARREL1
    IS_IN_PLAY_BARREL2 = PHASE2_BARREL2
    IS_IN_PLAY_BARREL3 = PHASE2_BARREL3
  elseif HOOK_PHASE == 3 then
    IS_IN_PLAY_BARREL1 = PHASE3_BARREL1
    IS_IN_PLAY_BARREL2 = PHASE3_BARREL2
    IS_IN_PLAY_BARREL3 = PHASE3_BARREL3
    ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_TrackComplete")
    AudioSetState(GetPlayer(), "Music_State", "Boss_II")
  elseif HOOK_PHASE == 4 then
    IS_IN_PLAY_BARREL1 = PHASE4_BARREL1
    IS_IN_PLAY_BARREL2 = PHASE4_BARREL2
    IS_IN_PLAY_BARREL3 = PHASE4_BARREL3
    ForceSequence("potw_zonem_rails.Marker(Conversation) 01", "PoTW_ZM_TrackComplete")
    AudioSetState(GetPlayer(), "Music_State", "Boss_II")
  end
  PotW_ResetBarrels()
  UnrestrictCutSceneInput()
  PotW_EnterBarrel(PotW_PickSequentialBarrel())
end
PotW_GoToHookPhase = L0_0
function L0_0(A0_235)
  PoTW_PaintInBarrels()
  PotW_EnterBarrel(PotW_PickSequentialBarrel())
end
PotW_HookSplitToPopDown = L0_0
function L0_0(A0_236)
  while true do
    wait(1)
  end
end
PotW_Execute1Hz = L0_0
function L0_0(A0_237)
  PotW_AiHookDisable(nil)
end
PotW_MickeyAboveDeck = L0_0
function L0_0(A0_238)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and GetGlobal("PoTW_ZoneM_HookDistracted") == 0 then
    PotW_AiHookEnable(nil)
  end
end
PotW_MickeyOnDeck = L0_0
function L0_0(A0_239, A1_240)
  if tonumber(A1_240) == 1 then
    COMMITTED_TO_POPDOWN = true
  elseif tonumber(A1_240) == 0 then
    COMMITTED_TO_POPDOWN = false
  end
end
PotW_HookCommittedToPopDown = L0_0
function L0_0(A0_241, A1_242)
  if tonumber(A1_242) == 1 then
    MICKEY_CAN_BREAK_BARREL = true
  elseif tonumber(A1_242) == 0 then
    MICKEY_CAN_BREAK_BARREL = false
  end
end
PotW_MickeyCanBreakBarrel = L0_0
function L0_0(A0_243)
  if COG_1_BROKEN == true and COG_2_BROKEN == true then
    ClearAllCameraAttributesTimedSD(GetPlayer(), 0.1)
    ClearCameraHintAll(GetPlayer())
    wait(0.2)
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Unhide("potw_zonem_rails.Trigger Close Camera")
    Unhide("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Unhide("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    if READY_FOR_PHASE_CHANGE then
      READY_FOR_PHASE_CHANGE = false
      if HOOK_PHASE ~= 2 and (IS_PLANK_EXTENDED or IS_SLIDER_EXTENDED) and (not IS_SLIDER_EXTENDED or not IS_PLANK_EXTENDED) then
        PotW_GoToHookPhase(nil, 2)
        AdvanceBossStage(AI_HOOK)
      elseif IS_PLANK_EXTENDED and IS_SLIDER_EXTENDED then
        PotW_GoToHookPhase(nil, 3)
        AdvanceBossStage(AI_HOOK)
      else
        wait(5)
      end
    else
      PotW_ResetBarrels()
      UnrestrictCutSceneInput()
      PotW_EnterBarrel(PotW_PickSequentialBarrel())
    end
  else
    wait(2)
    ClearAllCameraAttributesTimedSD(GetPlayer(), 0.1)
    ClearCameraHintAll(GetPlayer())
    wait(0.2)
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
    Unhide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
    Unhide("potw_zonem_rails.Trigger Close Camera")
    Unhide("potw_zonem_rails.Trigger Gameplay Camera Normal")
    Unhide("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
    if READY_FOR_PHASE_CHANGE then
      READY_FOR_PHASE_CHANGE = false
      if HOOK_PHASE ~= 2 and (IS_PLANK_EXTENDED or IS_SLIDER_EXTENDED) and (not IS_SLIDER_EXTENDED or not IS_PLANK_EXTENDED) then
        PotW_GoToHookPhase(nil, 2)
        AdvanceBossStage(AI_HOOK)
      elseif IS_PLANK_EXTENDED and IS_SLIDER_EXTENDED then
        PotW_GoToHookPhase(nil, 3)
        AdvanceBossStage(AI_HOOK)
      else
        wait(5)
      end
    else
      PotW_ResetBarrels()
      UnrestrictCutSceneInput()
      PotW_EnterBarrel(PotW_PickSequentialBarrel())
    end
  end
end
PotW_HookGoToBarrel = L0_0
function L0_0()
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  wait(1)
  ForEachEntityInGroup(Enable, "KnockBack Barrel Triggers")
  wait(0.2)
  ForcePainted(COLLISION_BARREL1)
  ForcePainted(COLLISION_BARREL2)
  ForcePainted(COLLISION_BARREL3)
  wait(0.2)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelSpinUp")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelSpinUp")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelSpinUp")
  ForEachEntityInGroup(Disable, "KnockBack Barrel Triggers")
  Unhide(COLLISION_BARREL1)
  Unhide(COLLISION_BARREL2)
  Unhide(COLLISION_BARREL3)
end
PoTW_PaintInBarrels = L0_0
function L0_0()
  if AIHOOKFORCE_DISABLED == false then
    Hide(RAIL_HOOK)
    Hide(RAIL_CLOTHES)
    Hide(RAIL_CLOTHES_WEAPON)
    SetSplineFollowerInitialSpeed(RAIL_HOOK, 0)
    Unhide(AI_HOOK)
    Unhide(AI_CLOTHES)
    Unhide(AI_SWORD)
    Hide(AI_COLLISION)
    if BARREL == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
    elseif BARREL == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
    elseif BARREL == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 03")
    end
    wait(0.3)
    AnimEvent(AI_HOOK, "EVENT_DoPopOut")
    AnimEvent(BARREL_NAME, "EVENT_PopOut")
    ForEachEntityInGroup(Disable, "KnockBack Barrel Triggers")
    PotW_BreakTheTV()
    AIHOOKENABLED = true
    if GetHealth(RAIL_HOOK) == 4 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
    elseif GetHealth(RAIL_HOOK) == 3 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
    elseif GetHealth(RAIL_HOOK) == 2 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3 AI")
    elseif GetHealth(RAIL_HOOK) == 1 then
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3 AI")
      StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4 AI")
    end
    wait(0.5)
    SetPropertyInt(AI_CLOTHES, "Collision Layer", 5)
    wait(0.86)
    if BARREL == 1 then
      StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 01")
    elseif BARREL == 2 then
      StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 02")
    elseif BARREL == 3 then
      StopEmitters("potw_zonem_rails.ParticleScriptable Barrel Popout 03")
    end
  end
end
PotW_SwitchToAIHook = L0_0
function L0_0()
  local L0_244, L1_245
  L0_244 = BARREL_NAME
  L1_245 = BARREL_COLLISION_NAME
  if BARREL == 1 then
    IS_ALIVE_BARREL1 = false
  elseif BARREL == 2 then
    IS_ALIVE_BARREL2 = false
  elseif BARREL == 3 then
    IS_ALIVE_BARREL3 = false
  end
  PotW_CheckIsHookInLastBarrel()
  AnimEvent(AI_HOOK, "EVENT_GoToSleep")
  AIHOOKENABLED = false
  StartEmitters("potw_zonem_rails.ParticleScriptableWithParent AI Impact")
  Hide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
  Hide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
  Hide("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
  Hide("potw_zonem_rails.Trigger Close Camera")
  Hide("potw_zonem_rails.Trigger Gameplay Camera Normal")
  Hide("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
  PoTW_DeckGameplayCameraClear(nil)
  AnimEvent(AI_HOOK, "EVENT_SpinStart")
  AnimEvent(RAIL_HOOK, "EVENT_SpinStart")
  Hide(AI_SWORD)
  wait(0.1)
  StopEmitters("potw_zonem_rails.ParticleScriptableWithParent AI Impact")
  if BARREL == 1 then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) 04")
  elseif BARREL == 2 then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) 01")
  elseif BARREL == 3 then
    SetCameraAttributes("potw_zonem_rails.Marker(CameraOverride) 07")
  end
  PotW_SwitchToRailHook(nil)
end
PotW_BreakHookInBarrel = L0_0
function L0_0()
  if BARREL == 1 then
    TeleportToEntity(GetPlayer(), "potw_zonem_rails.RailsWatchPointA")
  elseif BARREL == 2 then
    TeleportToEntity(GetPlayer(), "potw_zonem_rails.RailsWatchPointB")
  elseif BARREL == 3 then
    TeleportToEntity(GetPlayer(), "potw_zonem_rails.RailsWatchPointC")
  end
end
PotW_MoveMickeyToWatchRails = L0_0
function L0_0()
  local L0_246, L1_247, L2_248
  L0_246 = PotW_PickBarrelNearestMickey
  L0_246 = L0_246()
  L1_247 = ""
  if L0_246 == 1 then
    L2_248 = false
    IS_ALIVE_BARREL1 = L2_248
    L1_247 = NAME_BARREL1
  elseif L0_246 == 2 then
    L2_248 = false
    IS_ALIVE_BARREL2 = L2_248
    L1_247 = NAME_BARREL2
  elseif L0_246 == 3 then
    L2_248 = false
    IS_ALIVE_BARREL3 = L2_248
    L1_247 = NAME_BARREL3
  end
  L2_248 = PotW_CheckIsHookInLastBarrel
  L2_248()
  L2_248 = GetChildEntityByName
  L2_248 = L2_248(L1_247, "PotW_HookBarrel_Collision")
  AnimEvent(L1_247, "EVENT_BarrelReactHit")
  wait(0.1)
  MoveToEntity(EXPLOSION_BARREL, L1_247)
  StartEmitters(EXPLOSION_BARREL)
  wait(0.3)
  Hide(L1_247)
  Hide(L2_248)
end
PotW_BreakEmptyBarrel = L0_0
function L0_0(A0_249)
  if IS_SLIDER_EXTENDED == true and IS_PLANK_EXTENDED == true and BARREL == 2 and not GEAR3a_CRANKED then
    StartFadeOut(1)
    wait(1)
    SetLetterbox(1)
    Hide(AI_HOOK)
    Hide(AI_CLOTHES)
    Hide(AI_SWORD)
    Unhide(RAIL_HOOK)
    Unhide(RAIL_CLOTHES)
    StartFadeInNoHUD(1)
    wait(1)
    Hide("potw_zonem_rails.AnimatronicTicTocCroc 02")
    Unhide("potw_zonem_intro.AnimatronicTicTocCroc 01")
  end
  Hide(AI_HOOK)
  Hide(AI_CLOTHES)
  Hide(AI_SWORD)
  if GetHealth(RAIL_HOOK) == 4 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
  elseif GetHealth(RAIL_HOOK) == 3 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
  elseif GetHealth(RAIL_HOOK) == 2 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3 AI")
  elseif GetHealth(RAIL_HOOK) == 1 then
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3 AI")
    StopEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4 AI")
  end
  Unhide(RAIL_HOOK)
  Unhide(RAIL_CLOTHES)
  Hook_DropSpinPickups(RAIL_HOOK)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 5)
  RestrictCutSceneInput()
  Unhide("potw_zonem_rails.ParticleScriptableWithParent Spin")
  StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Spin")
  if GetHealth(RAIL_HOOK) == 4 then
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
  elseif GetHealth(RAIL_HOOK) == 3 then
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
  elseif GetHealth(RAIL_HOOK) == 2 then
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
  elseif GetHealth(RAIL_HOOK) == 1 then
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage1")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage2")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage3")
    StartEmitters("potw_zonem_rails.ParticleScriptableWithParent Damage4")
  end
  wait(0.5)
  AudioPostEventOn(RAIL_HOOK, "Play_hook_track_spin_loop")
  PotW_MoveMickeyToWatchRails()
  wait(1.5)
end
PotW_SwitchToRailHook = L0_0
function L0_0(A0_250)
  SetSplineFollowerInitialSpeed(RAIL_HOOK, 10)
end
PoTW_SpeedUp = L0_0
function L0_0(A0_251)
  RestrictCutSceneInput()
end
PoTW_AllStop = L0_0
function L0_0(A0_252)
  UnrestrictCutSceneInput()
end
PoTW_AllGo = L0_0
function L0_0(A0_253)
  PoTW_ZoneM_Sails_StopAttack(nil)
  RestrictCutSceneInput()
  wait(0.1)
  SetSplineFollowerInitialSpeed("potw_zonem.CameraControlPoint 01", 10)
  SetCameraAttributes("potw_zonem.Marker(CameraOverride) 27")
  wait(2.5)
  SetCameraAttributes("potw_zonem.Marker(CameraOverride) 30")
  wait(2)
  StartFadeOut(1)
  wait(1)
  SetCameraAttributes("potw_zonem.Marker(CameraOverride) 14")
  wait(2)
  StartFadeIn(1)
  wait(1)
  UnrestrictCutSceneInput()
  PoTW_ZoneM_Sails_StartAttack("potw_zonem.AnimatronicHookInSails 01")
end
PoTW_FairyCut = L0_0
function L0_0(A0_254)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 0)
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_CrocIntro")
  StartEmitters("potw_zonem.ParticleScriptableWithParent 51")
  wait(2)
  StopEmitters("potw_zonem.ParticleScriptableWithParent 51")
  wait(1)
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_Idle_swimBelly")
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 3)
end
PoTW_TicTockLeap = L0_0
function L0_0(A0_255)
  TimerDisable("potw_zonem_intro.LogicTimerMarker 05")
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_hookFall")
end
PoTW_TicTockEat = L0_0
function L0_0(A0_256)
  SplineFollower_TeleportToKnot("potw_zonem_intro.AnimatronicTicTocCroc 01", "potw_zonem_intro.CrocSplineKnot 06")
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 0)
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_CrocIntro")
  wait(1)
  SetPropertyEntity("potw_zonem_intro.AnimatronicTicTocCroc 01", "RotateToEntity", GetPlayer())
end
PoTW_TicTockWarp = L0_0
function L0_0(A0_257)
  SplineFollower_StopAtPosition("potw_zonem_intro.AnimatronicTicTocCroc 01", "potw_zonem_intro.CrocSplineKnot 05", "potw_zonem_intro.CrocSplineKnot 06", 1)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 0)
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_attack_bite")
  Enable("potw_zonem_intro.Trigger Croc")
  Unhide("potw_zonem_intro.AnimatronicTicTocCroc 01")
  StartEmitters("potw_zonem.ParticleScriptableWithParent 51")
  wait(2)
  StopEmitters("potw_zonem.ParticleScriptableWithParent 51")
  Disable("potw_zonem_intro.Trigger Croc")
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_Idle_swimBelly")
  wait(0.5)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 5)
  SplineFollower_StopAtPosition("potw_zonem_intro.AnimatronicTicTocCroc 01", "potw_zonem_intro.CrocSplineKnot 07", "potw_zonem_intro.CrocSplineKnot 08", 1)
end
PoTW_TicTockBite = L0_0
function L0_0(A0_258)
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 0)
  SplineFollower_StopAtPosition("potw_zonem_intro.AnimatronicTicTocCroc 01", "potw_zonem_intro.CrocSplineKnot 07", "potw_zonem_intro.CrocSplineKnot 08", 1)
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_attack_bite")
  StartEmitters("potw_zonem.ParticleScriptableWithParent 51")
  Enable("potw_zonem_intro.Trigger Croc 01")
  wait(2)
  StopEmitters("potw_zonem.ParticleScriptableWithParent 51")
  Disable("potw_zonem_intro.Trigger Croc 01")
  AnimEvent("potw_zonem_intro.AnimatronicTicTocCroc 01", "EVENT_Idle_swimBelly")
  SplineFollower_ClearStopPosition("potw_zonem_intro.AnimatronicTicTocCroc 01")
  SetSplineFollowerInitialSpeed("potw_zonem_intro.AnimatronicTicTocCroc 01", 5)
  SetPropertyEntity("potw_zonem_intro.AnimatronicTicTocCroc 01", "RotateToEntity", nil)
end
PoTW_TicTockBite2 = L0_0
function L0_0(A0_259)
  ForceSequence("potw_zonem.Marker(Conversation) 01", "PoTW_ZM_Paint1")
end
PoTW_FairyReminding = L0_0
function L0_0(A0_260)
  wait(1)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SplineFollower_TeleportToKnot("potw_zonem.Marker(SplineFollower) 04", "potw_zonem.HookSplineKnot 19")
    PoTW_PetePanIGC_Scene1()
  else
    PoTW_PetePanAlternateIGC_Start()
  end
end
PoTW_PetePanIntro = L0_0
function L0_0(A0_261)
  local L1_262
  L1_262 = vector4
  L1_262 = L1_262(0, 0, 1, 0)
  SetFacing(A0_261, L1_262)
  Unhide(IGC_HOOK_CLOTHES)
  Hide(SAILS_HOOK_CLOTHES)
end
ZoneM_Sails_PrepareForIGC = L0_0
function L0_0()
  local L0_263
  L0_263 = GetFacing
  L0_263 = L0_263("potw_zonem_igc.PositionMarker Destroy Left Door")
  SetFacing(RAIL_HOOK, L0_263)
end
ZoneM_Rails_PrepareForIGCDoorSplat = L0_0
function L0_0()
  local L0_264
  L0_264 = GetFacing
  L0_264 = L0_264("potw_zonem_igc.PositionMarker Destroy Left Cog")
  SetFacing(RAIL_HOOK, L0_264)
end
ZoneM_Rails_PrepareForIGCLeftCogSplat = L0_0
function L0_0()
  local L0_265
  L0_265 = GetFacing
  L0_265 = L0_265("potw_zonem_igc.PositionMarker Destroy Loose Board")
  SetFacing(RAIL_HOOK, L0_265)
end
ZoneM_Rails_PrepareForIGCLooseBoardSplat = L0_0
function L0_0()
  local L0_266
  L0_266 = GetFacing
  L0_266 = L0_266("potw_zonem_igc.PositionMarker Destroy Middle Cog")
  SetFacing(RAIL_HOOK, L0_266)
end
ZoneM_Rails_PrepareForIGCMiddleCogSplat = L0_0
function L0_0()
  local L0_267
  L0_267 = GetFacing
  L0_267 = L0_267("potw_zonem_igc.PositionMarker Destroy Pole")
  SetFacing(RAIL_HOOK, L0_267)
end
ZoneM_Rails_PrepareForIGCPoleSplat = L0_0
function L0_0()
  local L0_268
  L0_268 = GetFacing
  L0_268 = L0_268("potw_zonem_igc.PositionMarker Destroy Right Cog")
  SetFacing(RAIL_HOOK, L0_268)
end
ZoneM_Rails_PrepareForIGCRightCogSplat = L0_0
function L0_0()
  local L0_269
  L0_269 = GetFacing
  L0_269 = L0_269("potw_zonem_igc.PositionMarker Destroy Unfinished Track")
  SetFacing(RAIL_HOOK, L0_269)
end
ZoneM_Rails_PrepareForIGCUnfinishedTrackSplat = L0_0
function L0_0()
  StartFadeOut(0.7)
  wait(0.7)
  HideHud()
  SetLetterbox(1)
  Unhide("potw_zonem.HookSword_Animated 01")
  ZoneM_Sails_StopFaceTarget(SAILS_HOOK)
  ZoneM_Sails_PrepareForIGC(SAILS_HOOK)
  Disable("potw_zonem.PlaneTrigger 01")
  Disable("potw_zonem.PlaneTrigger 02")
  Disable("potw_zonem.PlaneTrigger 03")
  Disable("potw_zonem.PlaneTrigger 05")
  Disable("potw_zonem.PlaneTrigger 07")
  Disable("potw_zonem.PlaneTrigger 10")
  Disable("potw_zonem.PlaneTrigger 11")
  Disable("potw_zonem.PlaneTrigger 12")
  Disable("potw_zonem.PlaneTrigger 13")
  Disable("potw_zonem.PlaneTrigger 14")
  Disable("potw_zonem.PlaneTrigger 15")
  Disable("potw_zonem.PlaneTrigger 17")
  Disable("potw_zonem.PlaneTrigger 18")
  Disable("potw_zonem.PlaneTrigger 19")
  Disable("potw_zonem.PlaneTrigger 20")
  Disable("potw_zonem.PlaneTrigger 21")
  Disable("potw_zonem.PlaneTrigger 23")
  Disable("potw_zonem.PlaneTrigger 24")
  Disable("potw_zonem.PlaneTrigger 25")
  Disable("potw_zonem.PlaneTrigger 26")
  Disable("potw_zonem.PlaneTrigger 33")
  Disable("potw_zonem.Trigger 01")
  Disable("potw_zonem.Trigger 02")
  Disable("potw_zonem.Trigger 03")
  Disable("potw_zonem.Trigger 04")
  Disable("potw_zonem.Trigger 05")
  Disable("potw_zonem.Trigger 06")
  Disable("potw_zonem.Trigger 07")
  Disable("potw_zonem.Trigger 08")
  Disable("potw_zonem.Trigger 09")
  Disable("potw_zonem.Trigger 10")
  Disable("potw_zonem.Trigger 12")
  Disable("potw_zonem.Trigger 13")
  Disable("potw_zonem.Trigger 14")
  Disable("potw_zonem.Trigger 15")
  Disable("potw_zonem.Trigger 17")
  Disable("potw_zonem.Trigger 18")
  Disable("potw_zonem.Trigger 21")
  Disable("potw_zonem.Trigger 22")
  Disable("potw_zonem.Trigger 23")
  Disable("potw_zonem.Trigger 27")
  Disable("potw_zonem.Trigger 28")
  Disable("potw_zonem.Trigger 30")
  Disable("potw_zonem.Trigger 31")
  Disable("potw_zonem_intro.PlaneTrigger 01")
  Disable("potw_zonem_intro.PlaneTrigger 02")
  Disable("potw_zonem_intro.PlaneTrigger 03")
  Disable("potw_zonem_intro.PlaneTrigger 04")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 01")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 02")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 03")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 05")
  Disable("potw_zonem_intro.Trigger 11")
  Disable("potw_zonem_intro.Trigger MapLoadorStream")
  Disable("potw_zonem_intro.Trigger_CameraOverride 01")
  Disable("potw_zonem_intro.Trigger_CameraOverride 02")
  Disable("potw_zonem_intro.Trigger_CameraOverride 03")
  Disable("potw_zonem_intro.Trigger_CameraOverride 04")
  Disable("potw_zonem_rails.PlaneTrigger Intro Start")
  Disable("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
  Disable("potw_zonem_rails.Trigger Close Camera")
  Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
  Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
  Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
  Hide("potw_zonem.DynamicParentableProp 01")
  Hide("potw_zonem.DynamicParentableProp 02")
  Hide("potw_zonem.DynamicParentableProp 03")
  Hide("potw_zonem.TempPlatA1 01")
  Hide("potw_zonem.TempPlatA1 03")
  Hide("potw_zonem.TempPlatA1 04")
  Hide("potw_zonem.TempPlatA1 05")
  Hide("potw_zonem.TempPlatA1 07")
  Hide("potw_zonem.TempPlatA1 08")
  Hide("potw_zonem.TempPlatA1 09")
  Hide("potw_zonem.TempPlatA1 12")
  Hide("potw_zonem.DynamicSplineFollower 01")
  Hide("potw_zonem.DynamicSplineFollower 02")
  Hide("potw_zonem.DynamicSplineFollower 04")
  Hide("potw_zonem.DynamicSplineFollower 05")
  Hide("potw_zonem.DynamicSplineFollower 06")
  Hide("potw_zonem.DynamicSplineFollower 07")
  Hide("potw_zonem.DynamicSplineFollower 08")
  Unhide(SAILS_HOOK)
  Unhide("potw_zonem.PetePan_HookFight 01")
  ClearParent(SAILS_HOOK)
  ClearParent("potw_zonem.PetePan_HookFight 01")
  DisableMotion_Player(GetPlayer())
  DisableMotion(SAILS_HOOK)
  DisableMotion(SAILS_HOOK_CLOTHES)
  DisableMotion("potw_zonem.PetePan_HookFight 01")
  SetPropertyBool(GetPlayer(), "ForceInvulnerable", true, 0)
  TeleportToEntity(SAILS_HOOK, "IGCResetMarker")
  RemovePhysicsFromWorld("potw_zonem.PetePan_HookFight 01")
  TeleportToEntity("potw_zonem.PetePan_HookFight 01", "IGCResetMarker")
  RemovePhysicsFromWorld(GetPlayer())
  TeleportToEntity(GetPlayer(), "IGCResetMarker")
  Unhide(SAILS_HOOK_CLOTHES)
  wait(0.5)
  StartFadeInNoHUD(0.7)
  GrabCameraNif("cameraHookIntro", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraHookIntro")
  AnimGBSequence("cameraHookIntro", "camera")
  AnimGBReset("potw_zonem_igc.HookAnchor 01")
  Unhide("potw_zonem_igc.HookAnchor 01")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "hookIntro")
  AudioPostEventOn(SAILS_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  EnterCutscene(SAILS_HOOK, 10)
  wait(3.6)
  StartFadeOut(1)
  wait(1)
  PoTW_PetePanIGC_Scene2()
end
PoTW_PetePanIGC_Scene1 = L0_0
function L0_0()
  GrabCameraNif("cameraPeteIntro", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraPeteIntro")
  AnimGBSequence("cameraPeteIntro", "CameraStart")
  EnterCutscene(GetPlayer(), 20)
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 20)
  StartFadeInNoHUD(0.5)
  AudioSetState(GetPlayer(), "Music_State", "IGC")
  wait(3.9)
  SetGlobal("PoTW_PetePanIGC_firstDialog", 0)
  AudioPostEventOn("potw_zonem.PetePan_HookFight 01", "Play_sfx_PanPete_vox_Bark")
  FireSequence("IGC_Conversation_Pete", "PoTW_IGC_Pete01")
  AnimGBSequence("cameraPeteIntro", "CameraLoop")
end
PoTW_PetePanIGC_Scene2 = L0_0
function L0_0()
  AnimGBSequence("cameraPeteIntro", "CameraEnd")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 21)
  EnterCutscene(SAILS_HOOK, 20)
  EnterCutscene(GetPlayer(), 21)
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "peteIntro")
  wait(1.43)
  PoTW_PetePanIGC_Scene4()
end
PoTW_PetePanIGC_Scene2b = L0_0
function L0_0()
  GrabCameraNif("cameraHookEscalate", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraHookEscalate")
  AnimGBSequence("cameraHookEscalate", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "hookEscalate")
  EnterCutscene(SAILS_HOOK, 30)
  AudioPostEventOn(SAILS_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
  FireSequence("IGC_Conversation_Hook", "PoTW_IGC_Hook01")
end
PoTW_PetePanIGC_Scene3 = L0_0
function L0_0()
  EnterCutscene(SAILS_HOOK, 31)
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "hookEscalateEnd")
  wait(1.35)
  PoTW_PetePanIGC_Scene5()
end
PoTW_PetePanIGC_Scene3b = L0_0
function L0_0()
  GrabCameraNif("cameraPeteEscalate", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraPeteEscalate")
  AnimGBSequence("cameraPeteEscalate", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "peteEscalate")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 40)
  wait(1.1)
  SetGlobal("PoTW_PetePanIGC_firstDialog", 1)
  AudioPostEventOn("potw_zonem.PetePan_HookFight 01", "Play_sfx_PanPete_vox_Bark")
  FireSequence("IGC_Conversation_Pete", "PoTW_IGC_Pete01")
  Hide(GetPlayer())
end
PoTW_PetePanIGC_Scene4 = L0_0
function L0_0()
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 41)
  wait(2.46)
  PoTW_PetePanIGC_Scene3()
end
PoTW_PetePanIGC_Scene4b = L0_0
function L0_0()
  AudioPostEventOn(GetPlayer(), "Play_sfx_Hook_IGC_PanPete_duel")
  GrabCameraNif("cameraStartFight", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraStartFight")
  AnimGBSequence("cameraStartFight", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "startFight")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 50)
  EnterCutscene(SAILS_HOOK, 50)
  AnimGBReset("potw_zonem.HookSword_Animated 01")
  AnimGBSequence("potw_zonem.HookSword_Animated 01", "StartFight")
  wait(8.16)
  PoTW_PetePanIGC_Scene6()
end
PoTW_PetePanIGC_Scene5 = L0_0
function L0_0()
  GrabCameraNif("cameraBumStab", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraBumStab")
  AnimGBSequence("cameraBumStab", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "bumStab")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 60)
  EnterCutscene(SAILS_HOOK, 60)
  wait(5.3)
  PoTW_PetePanIGC_Scene6b()
end
PoTW_PetePanIGC_Scene6 = L0_0
function L0_0()
  GrabCameraNif("cameraTransition", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraTransition")
  AnimGBSequence("cameraTransition", "camera")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 61)
  wait(1.5)
  PoTW_PetePanIGC_Scene7()
end
PoTW_PetePanIGC_Scene6b = L0_0
function L0_0()
  GrabCameraNif("cameraStandOnSword", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraStandOnSword")
  AnimGBSequence("cameraStandOnSword", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "swordBend")
  AnimGBReset("potw_zonem.HookSword_Animated 01")
  AnimGBSequence("potw_zonem.HookSword_Animated 01", "SwordBend")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 70)
  EnterCutscene(SAILS_HOOK, 70)
  wait(9.76)
  PoTW_PetePanIGC_Scene8()
end
PoTW_PetePanIGC_Scene7 = L0_0
function L0_0()
  GrabCameraNif("cameraEndFight", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraEndFight")
  AnimGBSequence("cameraEndFight", "camera")
  AnimGBSequence("potw_zonem_igc.HookAnchor 01", "endFight")
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 80)
  EnterCutscene(SAILS_HOOK, 80)
  wait(3)
  AudioSetState(GetPlayer(), "Music_State", "Boss_Win")
  wait(5)
  StartFadeOut(1)
  wait(1)
  Unhide(GetPlayer())
  AddPhysicsToWorld(GetPlayer())
  TeleportToEntity(GetPlayer(), "potw_zonem.Marker(Parentable) 33")
  ExitCutscene(GetPlayer())
  AnimEvent(GetPlayer(), EVENT_Finished_Sequence)
  EnableMotion_Player(GetPlayer())
  UnrestrictCutSceneInput()
  SetPropertyBool(GetPlayer(), "ForceInvulnerable", false, 0)
  wait(0.1)
  CameraReset()
  Disable("potw_zonem.Marker(SplineFollower) 04")
  Hide("potw_zonem.TempPlatA1 01")
  PoTW_HideHooksAndBarrels()
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  Hide(SAILS_HOOK)
  PotW_LevelEndSequence()
  Hide("potw_zonem.AnimatronicHookInSails 01")
  Hide("potw_zonem.PetePan_HookFight 01")
  Hide(SAILS_HOOK_CLOTHES)
  Hide("potw_zonem.panPeteSword 01")
  Unhide("potw_zonem.DynamicParentableProp 01")
  Unhide("potw_zonem.DynamicParentableProp 02")
  Unhide("potw_zonem.DynamicParentableProp 03")
  Unhide("potw_zonem.TempPlatA1 01")
  Unhide("potw_zonem.TempPlatA1 03")
  Unhide("potw_zonem.TempPlatA1 04")
  Unhide("potw_zonem.TempPlatA1 05")
  Unhide("potw_zonem.TempPlatA1 07")
  Unhide("potw_zonem.TempPlatA1 08")
  Unhide("potw_zonem.TempPlatA1 09")
  Unhide("potw_zonem.TempPlatA1 12")
  Unhide("potw_zonem.DynamicSplineFollower 01")
  Unhide("potw_zonem.DynamicSplineFollower 02")
  Unhide("potw_zonem.DynamicSplineFollower 04")
  Unhide("potw_zonem.DynamicSplineFollower 05")
  Unhide("potw_zonem.DynamicSplineFollower 06")
  Unhide("potw_zonem.DynamicSplineFollower 07")
  Unhide("potw_zonem.DynamicSplineFollower 08")
end
PoTW_PetePanIGC_Scene8 = L0_0
function L0_0()
  StartFadeOut(0.7)
  wait(0.7)
  HideHud()
  SetLetterbox(1)
  Disable("potw_zonem.PlaneTrigger 01")
  Disable("potw_zonem.PlaneTrigger 02")
  Disable("potw_zonem.PlaneTrigger 03")
  Disable("potw_zonem.PlaneTrigger 05")
  Disable("potw_zonem.PlaneTrigger 07")
  Disable("potw_zonem.PlaneTrigger 10")
  Disable("potw_zonem.PlaneTrigger 11")
  Disable("potw_zonem.PlaneTrigger 12")
  Disable("potw_zonem.PlaneTrigger 13")
  Disable("potw_zonem.PlaneTrigger 14")
  Disable("potw_zonem.PlaneTrigger 15")
  Disable("potw_zonem.PlaneTrigger 17")
  Disable("potw_zonem.PlaneTrigger 18")
  Disable("potw_zonem.PlaneTrigger 19")
  Disable("potw_zonem.PlaneTrigger 20")
  Disable("potw_zonem.PlaneTrigger 21")
  Disable("potw_zonem.PlaneTrigger 23")
  Disable("potw_zonem.PlaneTrigger 24")
  Disable("potw_zonem.PlaneTrigger 25")
  Disable("potw_zonem.PlaneTrigger 26")
  Disable("potw_zonem.PlaneTrigger 33")
  Disable("potw_zonem.Trigger 01")
  Disable("potw_zonem.Trigger 02")
  Disable("potw_zonem.Trigger 03")
  Disable("potw_zonem.Trigger 04")
  Disable("potw_zonem.Trigger 05")
  Disable("potw_zonem.Trigger 06")
  Disable("potw_zonem.Trigger 07")
  Disable("potw_zonem.Trigger 08")
  Disable("potw_zonem.Trigger 09")
  Disable("potw_zonem.Trigger 10")
  Disable("potw_zonem.Trigger 12")
  Disable("potw_zonem.Trigger 13")
  Disable("potw_zonem.Trigger 14")
  Disable("potw_zonem.Trigger 15")
  Disable("potw_zonem.Trigger 17")
  Disable("potw_zonem.Trigger 18")
  Disable("potw_zonem.Trigger 21")
  Disable("potw_zonem.Trigger 22")
  Disable("potw_zonem.Trigger 23")
  Disable("potw_zonem.Trigger 27")
  Disable("potw_zonem.Trigger 28")
  Disable("potw_zonem.Trigger 30")
  Disable("potw_zonem.Trigger 31")
  Disable("potw_zonem_intro.PlaneTrigger 01")
  Disable("potw_zonem_intro.PlaneTrigger 02")
  Disable("potw_zonem_intro.PlaneTrigger 03")
  Disable("potw_zonem_intro.PlaneTrigger 04")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 01")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 02")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 03")
  Disable("potw_zonem_intro.PlaneTrigger_CameraOverride 05")
  Disable("potw_zonem_intro.Trigger 11")
  Disable("potw_zonem_intro.Trigger MapLoadorStream")
  Disable("potw_zonem_intro.Trigger_CameraOverride 01")
  Disable("potw_zonem_intro.Trigger_CameraOverride 02")
  Disable("potw_zonem_intro.Trigger_CameraOverride 03")
  Disable("potw_zonem_intro.Trigger_CameraOverride 04")
  Disable("potw_zonem_rails.PlaneTrigger Intro Start")
  Disable("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Left")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Right")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Left")
  Disable("potw_zonem_rails.Trigger Close Camera")
  Disable("potw_zonem_rails.PlaneTrigger(CameraOverride) Gameplay Close")
  Disable("potw_zonem_rails.Trigger(CameraOverride) Gameplay Back Right")
  Disable("potw_zonem_rails.Trigger Gameplay Camera Normal")
  Disable("potw_zonem_rails.Trigger_CameraOverride Gameplay Mid")
  Unhide("potw_zonem.PetePan_HookFight 01")
  ClearParent("potw_zonem.PetePan_HookFight 01")
  DisableMotion_Player(GetPlayer())
  DisableMotion("potw_zonem.PetePan_HookFight 01")
  SetPropertyBool(GetPlayer(), "ForceInvulnerable", true, 0)
  TeleportToEntity("potw_zonem.PetePan_HookFight 01", "IGCResetMarker")
  RemovePhysicsFromWorld(GetPlayer())
  TeleportToEntity(GetPlayer(), "IGCResetMarker")
  wait(0.5)
  GrabCameraNif("cameraPeteIntro", nil, CAMERA_LERP_TRANSITION, 0)
  AnimGBReset("cameraPeteIntro")
  AnimGBSequence("cameraPeteIntro", "CameraStart")
  EnterCutscene(GetPlayer(), 20)
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 20)
  StartFadeInNoHUD(0.7)
  wait(3.9)
  AudioPostEventOn("potw_zonem.PetePan_HookFight 01", "Play_sfx_PanPete_vox_Bark")
  FireSequence("potw_zonem.Marker(Conversation) 03", "PetePan1")
  AnimGBSequence("cameraPeteIntro", "CameraLoop")
end
PoTW_PetePanAlternateIGC_Start = L0_0
function L0_0()
  EnterCutscene("potw_zonem.PetePan_HookFight 01", 21)
  EnterCutscene(GetPlayer(), 21)
  AnimGBSequence("cameraPeteIntro", "CameraEnd")
  wait(0.93)
  StartFadeOut(0.5)
  wait(0.5)
  Unhide(GetPlayer())
  AddPhysicsToWorld(GetPlayer())
  TeleportToEntity(GetPlayer(), "potw_zonem.Marker(Parentable) 33")
  ExitCutscene(GetPlayer())
  AnimEvent(GetPlayer(), EVENT_Finished_Sequence)
  EnableMotion_Player(GetPlayer())
  UnrestrictCutSceneInput()
  wait(0.1)
  CameraReset()
  Disable("potw_zonem.Marker(SplineFollower) 04")
  Hide("potw_zonem.TempPlatA1 01")
  PoTW_HideHooksAndBarrels()
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  SetPropertyBool(GetPlayer(), "ForceInvulnerable", false, 0)
  PotW_ZoneM_SaveCheckpointAfterSpriteRescued()
  PotW_LevelEndSequence()
  Hide("potw_zonem.PetePan_HookFight 01")
  Hide("potw_zonem.panPeteSword 01")
end
PoTW_PetePanAlternateIGC_End = L0_0
function L0_0(A0_270)
  Hide("potw_zonem.PetePan_HookFight 01")
end
PoTW_PetePanHide = L0_0
function L0_0(A0_271)
  ForceSequence("potw_zonem.Marker(Conversation) 03", "PetePan1")
  SetCameraAttributes("potw_zonem.Marker(CameraOverride) 34")
  SplineFollower_StopAtPosition("potw_zonem.CameraControlPoint 11", "potw_zonem.CameraKnot 03", "potw_zonem.CameraKnot 04", 0)
  wait(1)
  AnimEvent("potw_zonem.PetePan_HookFight 01", "EVENT_Fly")
  wait(4)
  SetCameraAttributes("potw_zonem.Marker(CameraOverride) 37")
  PotW_LevelEndSequence()
end
PoTW_PetePanOutro = L0_0
function L0_0(A0_272)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    SetSplineFollowerInitialSpeed("potw_zonem.Marker(SplineFollower) 04", 0)
    wait(1)
    SplineFollower_TeleportToKnot("potw_zonem.Marker(SplineFollower) 04", "potw_zonem.HookSplineKnot 19")
  end
end
PoTW_HookEndCut = L0_0
function L0_0(A0_273)
  IS_SAIL9_CAMERA_CHANGED = true
end
PoTW_Sail9CameraChange = L0_0
function L0_0(A0_274)
  IS_SAIL9_CAMERA_CHANGED = false
end
PoTW_Sail9CameraRevert = L0_0
function L0_0()
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 1 and IS_BALLAST_LOWERED == false then
    ForceSketched("potw_zonem.DynamicSplineFollower 08")
    ForceSketched("potw_zonem.DynamicSplineFollower 07")
  end
end
PoTW_BallastDroponHookDeath = L0_0
function L0_0(A0_275)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    if IS_BALLAST_LOWERED == false then
      Disable("potw_zonem.Trigger 03")
      TeleportToEntity(GetPlayer(), "potw_zonem.PositionMarker BarrelCut")
      if BarrelPainted[GetName(A0_275)] == true then
        SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 04", "potw_zonem.HookSplineKnot 16", "potw_zonem.HookSplineKnot 10", 1)
        SetCameraAttributes("potw_zonem.Marker(CameraOverride) 11")
        RestrictCutSceneInput()
        PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", "potw_zonem.DynamicSplineFollower 08", 2, 2)
      else
        PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", "potw_zonem.DynamicSplineFollower 07", 2, 2)
        IS_BALLAST_LOWERED = true
        SetCameraAttributes("potw_zonem.Marker(CameraOverride) 20")
        wait(2)
        PoTW_OnSail("potw_zonem.PotW_HookSail 09")
        wait(0.1)
        UnrestrictCutSceneInput()
        ClearCutSceneStack()
        Enable("potw_zonem.Trigger 03")
      end
    else
      if IS_SAIL9_CAMERA_CHANGED == false then
        SetCameraAttributes("potw_zonem.Marker(CameraOverride) 18")
      elseif IS_SAIL9_CAMERA_CHANGED == true then
        SetCameraAttributes("potw_zonem.Marker(CameraOverride) 22")
      end
      wait(1)
      PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", GetPlayer(), 2, 2.5)
    end
  elseif GetGlobal("PoTW_ZoneM_HookIsDead") == 1 and IS_BALLAST_LOWERED == true then
    if IS_SAIL9_CAMERA_CHANGED == false then
      ClearAllCameraAttributes()
      SetCameraAttributes("potw_zonem.Marker(CameraOverride) 18")
    elseif IS_SAIL9_CAMERA_CHANGED == true then
      ClearAllCameraAttributes()
      SetCameraAttributes("potw_zonem.Marker(CameraOverride) 22")
    end
  end
end
PoTW_BarrelCut = L0_0
function L0_0(A0_276)
  if IS_SAIL9_CAMERA_CHANGED == false then
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 18")
  elseif IS_SAIL9_CAMERA_CHANGED == true then
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 22")
  end
end
PoTW_BagThinCamera = L0_0
function L0_0(A0_277)
  ForcePainted("potw_zonem.DynamicParentableProp 01")
  ForcePainted("potw_zonem.DynamicParentableProp 02")
  if LowerGearInitiallyPainted == true and LowerGearPainted == false then
    ForcePainted("potw_zonem.DynamicParentableRotator 04")
  end
end
PoTW_ForceBarrel = L0_0
function L0_0(A0_278)
  BarrelPainted[GetName(A0_278)] = false
end
PoTW_BarrelPainted = L0_0
function L0_0(A0_279)
  if GetPropertyBool(A0_279, "Is Real") == true then
    SetPropertyBool(A0_279, "Is Real", false)
  end
end
PoTW_ToonBarrel = L0_0
function L0_0(A0_280)
  if GetPropertyBool(A0_280, "Is Real") == false then
    SetPropertyBool(A0_280, "Is Real", true)
  end
end
PoTW_InertBarrel = L0_0
function L0_0(A0_281, A1_282)
  if GetGlobal("PoTW_ZM_Start_Played") == 0 then
    StartFadeOut(A1_282)
  end
end
PoTW_FairyFadeOut = L0_0
function L0_0(A0_283, A1_284)
  if GetGlobal("PoTW_ZM_Start_Played") == 0 then
    StartFadeIn(A1_284)
  end
end
PoTW_FairyFadeIn = L0_0
function L0_0(A0_285)
  RestrictCutSceneInput()
end
PoTW_EndRestrict = L0_0
function L0_0(A0_286)
  SetGlobal("PoTW_ZoneM_HookDistracted", 1)
  StartEmitters("potw_zonem_fx.ParticleScriptable Fairy Cage")
  AudioPostEventOn("potw_zonem.Demo_GremlinCageBreakableC1_Inert 01", "Play_sfx_Tink_cage_break")
  SetGlobal("MS_petepanresolution", 1)
  RestrictCutSceneInput()
  AudioSetState(GetPlayer(), "Music_State", "Boss_Win")
  Hide("potw_zonem.DynamicParentableProp 02")
  Hide("potw_zonem.DynamicParentableProp 01")
  Hide("potw_zonem.DynamicParentableRotator 14")
  ForceSketched("potw_zonem.PotW_HookSail 02")
  ForceSketched("potw_zonem.PotW_HookSail 03")
  Disable("potw_zonem_intro.PlaneTrigger 01")
  AudioPostEventOn("potw_zonem.Marker(SplineFollower) 11", "Play_sfx_Tink_flight_loop")
  Hide(NAME_BARREL1)
  Hide(NAME_BARREL2)
  Hide(NAME_BARREL3)
  Hide(COLLISION_BARREL1)
  Hide(COLLISION_BARREL2)
  Hide(COLLISION_BARREL3)
  AnimEvent(NAME_BARREL1, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL2, "EVENT_BarrelReactHit")
  AnimEvent(NAME_BARREL3, "EVENT_BarrelReactHit")
  PoTW_HideRailParticles()
  if IS_WALL_BLOWN == false then
    Enable("potw_zonem_rails.StaticBreakable 01")
  end
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 then
    PoTW_ZoneM_Sails_Enable(SAILS_HOOK)
    PoTW_ZoneM_Sails_StopAttack(nil)
    AnimEvent(AI_HOOK, "EVENT_GoToSleep")
    Disable(AI_HOOK)
    Hide(AI_HOOK)
    Hide(AI_CLOTHES)
    AIHOOKENABLED = false
    SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 04", "potw_zonem.HookSplineKnot 20", "potw_zonem.HookSplineKnot 15", 1)
    wait(0.5)
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 33")
    SetSplineFollowerInitialSpeed("potw_zonem.Marker(SplineFollower) 11", 2)
    wait(1)
    ForceSequence("potw_zonem.Marker(Conversation) 01", "PoTW_ZM_FairyRescue1")
    StopEmitters("potw_zonem_fx.ParticleScriptable Fairy Cage")
    Hide("potw_zonem_fx.ParticleScriptable Fairy Cage")
    wait(1)
    SetSplineFollowerInitialSpeed("potw_zonem.Marker(SplineFollower) 04", 0)
    wait(1)
    ForceSequence("potw_zonem.Marker(Conversation) 01", "PoTW_ZM_FairyRescue2")
  elseif GetGlobal("PoTW_ZoneM_HookIsDead") == 1 then
    SetCameraAttributes("potw_zonem.Marker(CameraOverride) 33")
    SetSplineFollowerInitialSpeed("potw_zonem.Marker(SplineFollower) 11", 2)
    wait(0.5)
    ForceSequence("potw_zonem.Marker(Conversation) 01", "PoTW_ZM_FairyRescue1")
    wait(1)
    StopEmitters("potw_zonem_fx.ParticleScriptable Fairy Cage")
    Hide("potw_zonem_fx.ParticleScriptable Fairy Cage")
    wait(1)
    ForceSequence("potw_zonem.Marker(Conversation) 01", "PoTW_ZM_FairyRescue2")
  end
  AudioSetState(GetPlayer(), "Music_State", "Exploration")
end
PoTW_FairyRescued = L0_0
function L0_0(A0_287)
  ForceSketched("potw_zonem.PotW_HookSail 09")
  ForceSketched("potw_zonem.PotW_HookSail 02")
  ForceSketched("potw_zonem.PotW_HookSail 03")
  ForceSketched("potw_zonem.PotW_HookSail 04")
  ForceSketched("potw_zonem.DynamicParentableRotator 14")
  ForceSketched("potw_zonem.TempPlatA1 08")
  ForcePainted("potw_zonem.TempPlatA1 12")
end
PoTW_ResetSail = L0_0
function L0_0(A0_288)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and SailPainted[A0_288] == true then
    ClearCutSceneStack()
    HideHud()
    TeleportToEntity(GetPlayer(), "potw_zonem.PositionMarker HintStart")
    RestrictCutSceneInput()
    ForceSequence("potw_zonem.Marker(Conversation) 02", "PoTW_ZM_HookTaunt1")
    SplineFollower_StopAtPosition("potw_zonem.Marker(SplineFollower) 04", "potw_zonem.HookSplineKnot 02", "potw_zonem.HookSplineKnot 03", 1)
    PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", "potw_zonem.PotW_HookSail 02", 2, 0.1)
    FireThread(PoTW_ZoneM_Sails_StartAttack, "potw_zonem.AnimatronicHookInSails 01")
    wait(1.5)
    AudioPostEventOn(SAILS_HOOK, "Play_sfx_Hook_vox_taunt_laugh")
    ForceSequence("potw_zonem.Marker(Conversation) 04", "PoTW_ZM_HookTaunt2")
    UnrestrictCutSceneInput()
    ShowHud()
    SAIL1_INITIALPAINTED = true
  end
end
PoTW_SailHintStart = L0_0
function L0_0(A0_289)
  if GetGlobal("PoTW_ZM_HookTaunt1_Played") == 0 then
    ForcePainted("potw_zonem.PotW_HookSail 02")
  end
end
PoTW_FirstSailPaintIn = L0_0
function L0_0(A0_290)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and PoTW_OnThisSail(A0_290) == true then
    if SailPainted[A0_290] == true then
      PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", A0_290, 2, 2)
      wait(0.5)
    elseif A0_290 == GetEntity("potw_zonem.PotW_HookSail 04") then
      PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", A0_290, 1, 0.5)
      wait(0.5)
    else
      PoTW_ZoneM_Sails_SetTarget("potw_zonem.AnimatronicHookInSails 01", GetPlayer(), 3, 3.5)
    end
  end
end
PoTW_SailTarget = L0_0
function L0_0(A0_291)
  if A0_291 == GetEntity("potw_zonem.PotW_HookSail 02") then
    OnSailTwo = true
    OnSailThree = false
    OnSailFour = false
    OnSailNine = false
  elseif A0_291 == GetEntity("potw_zonem.PotW_HookSail 03") then
    OnSailTwo = false
    OnSailThree = true
    OnSailFour = false
    OnSailNine = false
  elseif A0_291 == GetEntity("potw_zonem.PotW_HookSail 04") then
    OnSailTwo = false
    OnSailThree = false
    OnSailFour = true
    OnSailNine = false
  elseif A0_291 == GetEntity("potw_zonem.PotW_HookSail 09") then
    OnSailTwo = false
    OnSailThree = false
    OnSailFour = false
    OnSailNine = true
  end
end
PoTW_OnSail = L0_0
function L0_0(A0_292)
  local L1_293
  L1_293 = false
  OnSailTwo = L1_293
  L1_293 = false
  OnSailThree = L1_293
  L1_293 = false
  OnSailFour = L1_293
  L1_293 = false
  OnSailNine = L1_293
end
PoTW_ClearSail = L0_0
function L0_0(A0_294)
  local L1_295
  L1_295 = false
  if A0_294 == GetEntity("potw_zonem.PotW_HookSail 02") then
    L1_295 = OnSailTwo
  elseif A0_294 == GetEntity("potw_zonem.PotW_HookSail 03") then
    L1_295 = OnSailThree
  elseif A0_294 == GetEntity("potw_zonem.PotW_HookSail 04") then
    L1_295 = OnSailFour
  elseif A0_294 == GetEntity("potw_zonem.PotW_HookSail 09") then
    L1_295 = OnSailNine
  end
  return L1_295
end
PoTW_OnThisSail = L0_0
function L0_0(A0_296, A1_297)
  TeleportToEntity(A0_296, A1_297)
end
PoTW_TeleportSplineKnotStart = L0_0
function L0_0(A0_298)
  local L1_299, L2_300
  L1_299 = TeleportToEntity
  L2_300 = A0_298
  L1_299(L2_300, GetPlayer())
end
PoTW_TeleportSplineKnotEnd = L0_0
function L0_0(A0_301, A1_302)
  SailPainted[A0_301] = true
  wait(0.1)
  PoTW_SailTarget(A0_301, A1_302)
end
PoTW_SailPainted = L0_0
function L0_0(A0_303, A1_304)
  SailPainted[A0_303] = false
  wait(0.1)
  PoTW_SailTarget(A0_303, A1_304)
end
PoTW_SailThinned = L0_0
function L0_0(A0_305, A1_306)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and IS_BALLAST_LOWERED == true then
    SailPainted[A0_305] = true
    wait(0.1)
    PoTW_SailTarget(A0_305, A1_306)
  end
end
PoTW_SailPainted9 = L0_0
function L0_0(A0_307, A1_308)
  if GetGlobal("PoTW_ZoneM_HookIsDead") == 0 and IS_BALLAST_LOWERED == true then
    SailPainted[A0_307] = false
    wait(0.1)
    PoTW_SailTarget(A0_307, A1_308)
  end
end
PoTW_SailThinned9 = L0_0
function L0_0(A0_309)
  if CameraBoat == false then
    SetCameraAttributes("potw_zonem_intro.Trigger_CameraOverride 01")
    CameraBoat = true
  else
    SetCameraAttributes("potw_zonem_intro.Trigger_CameraOverride 04")
    CameraBoat = false
  end
end
PoTW_CameraChange = L0_0
function L0_0(A0_310)
  wait(1)
  AnimGBSequence("potw_zonem.TempPlatA1 01", "anchor_up")
  AudioPostEventOn("potw_zonem.TempPlatA1 01", "Play_sfx_Hook_pulley_mvmt_loop")
  wait(2)
  AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
  wait(1.5)
  AnimGBSequence("potw_zonem.TempPlatA1 01", "anchor_down")
  AudioPostEventOn("potw_zonem.TempPlatA1 01", "Play_sfx_Hook_pulley_mvmt_loop")
  wait(0.5)
  AnimEvent("potw_zonem.AnimatronicHookInSails 01", "EVENT_PaintClothes")
  ForcePainted(SAILS_HOOK_CLOTHES)
  wait(2.5)
  AudioPostEventOn("potw_zonem.TempPlatA1 01", "Stop_sfx_Hook_pulley_mvmt_loop")
end
PoTW_AnchorMove = L0_0
function L0_0(A0_311)
  if AnchorRotated == true then
    AnimGBSequence("potw_zonem.TempPlatA1 01", "rotate180")
    AnchorRotated = false
  else
    AnimGBSequence("potw_zonem.TempPlatA1 01", "180back")
    AnchorRotated = true
  end
end
PoTW_AnchorTurn = L0_0
function L0_0(A0_312)
  local L1_313
  L1_313 = 0.5
  PAINTED_TIMER = L1_313
  L1_313 = vector4
  L1_313 = L1_313(0, 0, 1, 1)
  SetR3MTConstReg(AI_HOOK, 2, L1_313)
  SPLASHING_PAINT = false
  DRIPPING_PAINT = false
end
PotW_HookShakeOffPaint = L0_0
function L0_0(A0_314)
  local L1_315
  L1_315 = true
  DRIPPING_PAINT = L1_315
  L1_315 = vector4
  L1_315 = L1_315(0, 0, 1, 0)
  SetR3MTConstReg(AI_HOOK, 2, L1_315)
end
PotW_HookDrippingWithPaint = L0_0
function L0_0()
  local L0_316
  L0_316 = vector4
  L0_316 = L0_316(0, 0, 1, 1)
  while 0 < PAINTED_TIMER do
    PAINTED_TIMER = PAINTED_TIMER - 0.0333
    L0_316.w = L0_316.w - 0.01
    if 0 > L0_316.w then
      L0_316.w = 0
    end
    SetR3MTConstReg(AI_HOOK, 2, L0_316)
    wait(0.0333)
  end
  if not DRIPPING_PAINT then
    PAINTED_TIMER = 0.5
    L0_316.w = 1
    SetR3MTConstReg(AI_HOOK, 2, L0_316)
    SPLASHING_PAINT = false
  end
end
PotW_SplashHookWithPaint = L0_0
function L0_0(A0_317, A1_318)
  local L2_319
  L2_319 = BaseEvent_Type
  L2_319 = L2_319(A1_318)
  if L2_319 == OnStimulus then
    L2_319 = StimulusEvent_HasStimulusType
    L2_319 = L2_319(A1_318, ST_PAINT)
    if L2_319 then
      L2_319 = StimulusEvent_SourceStimulusAlias
      L2_319 = L2_319(A1_318)
      if L2_319 == "Guardian" then
        L2_319 = AnimEvent
        L2_319(AI_HOOK, "EVENT_PaintedClothes")
      else
        L2_319 = GetPosition
        L2_319 = L2_319(BARREL_COLLISION_NAME)
        StimulusEntity(AI_HOOK, ST_PAINT, 1, L2_319, BARREL_COLLISION_NAME)
        AnimEvent(AI_HOOK, "EVENT_PaintingClothes")
        PAINTED_TIMER = 0.5
        if not SPLASHING_PAINT then
          SPLASHING_PAINT = true
          FireThread(PotW_SplashHookWithPaint)
        end
      end
    else
      L2_319 = StimulusEvent_HasStimulusType
      L2_319 = L2_319(A1_318, ST_THINNER)
      if L2_319 then
        L2_319 = GetPosition
        L2_319 = L2_319(BARREL_COLLISION_NAME)
        StimulusEntity(AI_HOOK, ST_THINNER, 1, L2_319, BARREL_COLLISION_NAME)
      end
    end
  end
end
PotW_OnStimulusAIHookClothes = L0_0
function L0_0(A0_320, A1_321)
  local L2_322
  L2_322 = BaseEvent_Type
  L2_322 = L2_322(A1_321)
  if L2_322 == OnStimulus then
    L2_322 = StimulusEvent_HasStimulusType
    L2_322 = L2_322(A1_321, ST_MAGIC)
    if L2_322 then
      L2_322 = GetPropertyEntity
      L2_322 = L2_322(A0_320, "Parent Entity", 0)
      if GetName(L2_322) == NAME_BARREL1 then
        ForceSketched(COLLISION_BARREL1)
      elseif GetName(L2_322) == NAME_BARREL2 then
        ForceSketched(COLLISION_BARREL2)
      elseif GetName(L2_322) == NAME_BARREL3 then
        ForceSketched(COLLISION_BARREL3)
      end
    end
  end
end
PotW_OnStimulusBarrelCollision = L0_0
function L0_0(A0_323, A1_324)
  if BaseEvent_Type(A1_324) == OnStimulus and StimulusEvent_HasStimulusType(A1_324, ST_SPIN) and not COMMITTED_TO_POPDOWN then
    if OnPlank == 0 then
      PotW_BreakHookInBarrel()
    else
      PoTW_FinalHit(nil)
    end
  end
end
PotW_OnStimulusHookCollision = L0_0
function L0_0(A0_325)
  AnimEvent(AI_HOOK, "EVENT_ThinnedClothes")
  Unhide(AI_COLLISION)
  AddScrapperPoints(GetPlayer(), 5)
  if BARREL > 0 then
    ForceSketched(BARREL_COLLISION_NAME)
  end
end
PotW_OnAIHookClothesSketched = L0_0
function L0_0(A0_326)
  Hide(AI_COLLISION)
  if BARREL > 0 then
    ForcePainted(BARREL_COLLISION_NAME)
    if BARREL == 1 then
      Enable("potw_zonem_rails.Trigger Barrel KnockBack 01")
      wait(0.2)
      ForcePainted(COLLISION_BARREL1)
      Disable("potw_zonem_rails.Trigger Barrel KnockBack 01")
    elseif BARREL == 2 then
      Enable("potw_zonem_rails.Trigger Barrel KnockBack 02")
      wait(0.2)
      ForcePainted(COLLISION_BARREL2)
      Disable("potw_zonem_rails.Trigger Barrel KnockBack 02")
    elseif BARREL == 3 then
      Enable("potw_zonem_rails.Trigger Barrel KnockBack 03")
      wait(0.2)
      ForcePainted(COLLISION_BARREL3)
      Disable("potw_zonem_rails.Trigger Barrel KnockBack 03")
    end
  end
end
PotW_OnAIHookClothesPainted = L0_0
function L0_0(A0_327)
  local L1_328
  L1_328 = GetPropertyEntity
  L1_328 = L1_328(A0_327, "Parent Entity", 0)
  if GetName(L1_328) == BARREL_NAME then
    ForceSketched(AI_CLOTHES)
  end
  if GetName(L1_328) == NAME_BARREL1 then
    Disable("potw_zonem.TriggerDamageVolume PushOut 01")
  elseif GetName(L1_328) == NAME_BARREL2 then
    Disable("potw_zonem.TriggerDamageVolume PushOut 02")
  elseif GetName(L1_328) == NAME_BARREL3 then
    Disable("potw_zonem.TriggerDamageVolume PushOut 03")
  end
end
PotW_OnBarrelSketched = L0_0
function L0_0(A0_329)
  local L1_330
  L1_330 = GetPropertyEntity
  L1_330 = L1_330(A0_329, "Parent Entity", 0)
  if GetName(L1_330) == NAME_BARREL1 then
    IS_ALIVE_BARREL1 = true
    Enable("potw_zonem.TriggerDamageVolume PushOut 01")
  elseif GetName(L1_330) == NAME_BARREL2 then
    IS_ALIVE_BARREL2 = true
    Enable("potw_zonem.TriggerDamageVolume PushOut 02")
  elseif GetName(L1_330) == NAME_BARREL3 then
    IS_ALIVE_BARREL3 = true
    Enable("potw_zonem.TriggerDamageVolume PushOut 03")
  end
  PotW_CheckIsHookInLastBarrel()
end
PotW_OnBarrelPainted = L0_0
function L0_0(A0_331)
  local L1_332
  TV = L1_332
  L1_332 = 0
  TV_BARREL = L1_332
end
PotW_TurnOffTV = L0_0
function L0_0(A0_333, A1_334)
  local L2_335
  L2_335 = GetName
  L2_335 = L2_335(A0_333)
  if string.find(L2_335, "painttv") then
    TV = A0_333
    TV_BARREL = tonumber(A1_334)
    PotW_BreakTheTV()
  end
end
PotW_RememberThisTV = L0_0
function L0_0()
  if TV and BARREL == TV_BARREL then
    ForceSketched(TV)
  end
end
PotW_BreakTheTV = L0_0
function L0_0()
  Unhide("potw_zonem.Gremlin_Gus 01")
  AnimVarInt("potw_zonem.Gremlin_Gus 01", VAR_NPC_State, 5)
  SetNPCMood("potw_zonem.Gremlin_Gus 01", MOOD_Positive)
  TeleportGremlinToEntity("potw_zonem.Gremlin_Gus 01", "potw_zonem_igc.Upgrade_PositionMarkerGus 01")
end
PotW_GusUpgradeStart = L0_0
function L0_0()
  wait(0.8)
  PoTW_DeckGameplayCameraNormal(nil)
  SetGlobal("PaintUpgrade_Hook", 0)
  if GetGlobal("PoTW_ZoneM_HookDistracted") == 1 then
    PotW_ZoneM_SaveCheckpointAfterSpriteRescued()
  elseif GetGlobal("PoTW_ZoneM_HookIsDead") == 1 then
    PotW_ZoneM_SaveCheckpointAfterHookDead()
  end
  Enable("potw_zonem.PlaneTrigger 01")
  Enable("potw_zonem.PlaneTrigger 02")
  Enable("potw_zonem.PlaneTrigger 03")
  Enable("potw_zonem.PlaneTrigger 05")
  Enable("potw_zonem.PlaneTrigger 07")
  Enable("potw_zonem.PlaneTrigger 10")
  Enable("potw_zonem.PlaneTrigger 11")
  Enable("potw_zonem.PlaneTrigger 12")
  Enable("potw_zonem.PlaneTrigger 13")
  Enable("potw_zonem.PlaneTrigger 14")
  Enable("potw_zonem.PlaneTrigger 15")
  Enable("potw_zonem.PlaneTrigger 17")
  Enable("potw_zonem.PlaneTrigger 18")
  Enable("potw_zonem.PlaneTrigger 19")
  Enable("potw_zonem.PlaneTrigger 20")
  Enable("potw_zonem.PlaneTrigger 21")
  Enable("potw_zonem.PlaneTrigger 23")
  Enable("potw_zonem.PlaneTrigger 24")
  Enable("potw_zonem.PlaneTrigger 25")
  Enable("potw_zonem.PlaneTrigger 26")
  Enable("potw_zonem.Trigger 01")
  Enable("potw_zonem.Trigger 02")
  Enable("potw_zonem.Trigger 03")
  Enable("potw_zonem.Trigger 04")
  Enable("potw_zonem.Trigger 05")
  Enable("potw_zonem.Trigger 06")
  Enable("potw_zonem.Trigger 07")
  Enable("potw_zonem.Trigger 08")
  Enable("potw_zonem.Trigger 09")
  Enable("potw_zonem.Trigger 10")
  Enable("potw_zonem.Trigger 12")
  Enable("potw_zonem.Trigger 13")
  Enable("potw_zonem.Trigger 14")
  Enable("potw_zonem.Trigger 15")
  Enable("potw_zonem.Trigger 17")
  Enable("potw_zonem.Trigger 18")
  Enable("potw_zonem.Trigger 21")
  Enable("potw_zonem.Trigger 22")
  Enable("potw_zonem.Trigger 23")
  Enable("potw_zonem.Trigger 27")
  Enable("potw_zonem.Trigger 28")
  Enable("potw_zonem.Trigger 30")
  Enable("potw_zonem.Trigger 31")
  Enable("potw_zonem_intro.PlaneTrigger 01")
  Enable("potw_zonem_intro.PlaneTrigger 02")
  Enable("potw_zonem_intro.PlaneTrigger 03")
  Enable("potw_zonem_intro.PlaneTrigger 04")
  Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 01")
  Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 02")
  Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 03")
  Enable("potw_zonem_intro.PlaneTrigger_CameraOverride 05")
  Enable("potw_zonem_intro.Trigger 11")
  Enable("potw_zonem_intro.Trigger MapLoadorStream")
  Enable("potw_zonem_intro.Trigger_CameraOverride 01")
  Enable("potw_zonem_intro.Trigger_CameraOverride 02")
  Enable("potw_zonem_intro.Trigger_CameraOverride 03")
  Enable("potw_zonem_intro.Trigger_CameraOverride 04")
  Enable("potw_zonem_rails.Trigger_CameraOverride UnderStairs")
  ShowHud()
  ShowReticleOnly()
  UnrestrictCutSceneInput()
end
PotW_GusUpgradeEnd = L0_0
function L0_0()
  if ConceptArtSave == 1 then
    SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoad", "potw_zonem_rails.PositionMarker 04")
  end
  if ConceptArtSave == 2 then
    SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterStickshiftCollected", "potw_zonem_rails.PositionMarker 04")
  end
  if ConceptArtSave == 3 then
    SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterRedChest", "potw_zonem_rails.PositionMarker 04")
  end
  if ConceptArtSave == 4 then
    SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterSpriteRescued", "potw_zonem_rails.PositionMarker 04")
  end
  if ConceptArtSave == 5 then
    SaveCheckpoint(GetPlayer(), "PotW_ZoneM_CheckpointLoadAfterHookDead", "potw_zonem_rails.PositionMarker 04")
  end
end
PotW_ZoneM_ConceptArtSave = L0_0
